function e(e){return Object.keys(e).reduce(((t,n)=>{const o=e[n];var a;return t[n]=Object.assign({},o),r(o.value)&&(a=o.value,"[object Function]"!==Object.prototype.toString.call(a))&&!Array.isArray(o.value)&&(t[n].value=Object.assign({},o.value)),Array.isArray(o.value)&&(t[n].value=o.value.slice(0)),t}),{})}function t(e){if(e)try{return JSON.parse(e)}catch(t){return e}}function n(e,t,n){if(null==n||!1===n)return e.removeAttribute(t);let r=JSON.stringify(n);e.__updating[t]=!0,"true"===r&&(r=""),e.setAttribute(t,r),Promise.resolve().then((()=>delete e.__updating[t]))}function r(e){return null!=e&&("object"==typeof e||"function"==typeof e)}let o;function a(r,a){const i=Object.keys(a);return class extends r{static get observedAttributes(){return i.map((e=>a[e].attribute))}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(r,o){const a=e(o);return Object.keys(o).forEach((e=>{const o=a[e],i=r.getAttribute(o.attribute),s=r[e];i&&(o.value=o.parse?t(i):i),null!=s&&(o.value=Array.isArray(s)?s.slice(0):s),o.reflect&&n(r,o.attribute,o.value),Object.defineProperty(r,e,{get:()=>o.value,set(t){const r=o.value;o.value=t,o.reflect&&n(this,o.attribute,o.value);for(let n=0,o=this.__propertyChangedCallbacks.length;n<o;n++)this.__propertyChangedCallbacks[n](e,t,r)},enumerable:!0,configurable:!0})})),a}(this,a);const r=function(e){return Object.keys(e).reduce(((t,n)=>(t[n]=e[n].value,t)),{})}(this.props),i=this.Component,s=o;try{o=this,this.__initialized=!0,"function"==typeof(l=i)&&0===l.toString().indexOf("class")?new i(r,{element:this}):i(r,{element:this})}finally{o=s}var l}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let e=null;for(;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(e,n,r){if(this.__initialized&&!this.__updating[e]&&(e=this.lookupProp(e))in a){if(null==r&&!this[e])return;this[e]=a[e].parse?t(r):r}}lookupProp(e){if(a)return i.find((t=>e===t||e===a[t].attribute))}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}}function i(e,t={},n={}){const{BaseElement:o=HTMLElement,extension:i}=n;return n=>{if(!e)throw new Error("tag is required to register a Component");let s=customElements.get(e);return s?(s.prototype.Component=n,s):(s=a(o,function(e){return e?Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[n]=r(o)&&"value"in o?o:{value:o},t[n].attribute||(t[n].attribute=n.replace(/\.?([A-Z]+)/g,((e,t)=>"-"+t.toLowerCase())).replace("_","-").replace(/^-/,"")),t[n].parse="parse"in t[n]?t[n].parse:"string"!=typeof t[n].value,t}),{}):{}}(t)),s.prototype.Component=n,s.prototype.registeredTag=e,customElements.define(e,s,i),s)}}const s={context:void 0,registry:void 0},l=Symbol("solid-proxy"),c=Symbol("solid-track"),d={equals:(e,t)=>e===t};let u=L;const p=1,h=2,g={owned:null,cleanups:null,context:null,owner:null};var f=null;let m=null,b=null,y=null,v=null,w=0;function _(e,t){const n=b,r=f,o=0===e.length,a=o?g:{owned:null,cleanups:null,context:null,owner:void 0===t?r:t},i=o?e:()=>e((()=>I((()=>z(a)))));f=a,b=null;try{return M(i,!0)}finally{b=n,f=r}}function x(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},d,t):d).equals||void 0};return[P.bind(n),e=>("function"==typeof e&&(e=e(n.value)),A(n,e))]}function k(e,t,n){O(j(e,t,!1,p))}function C(e,t,n){u=R;const r=j(e,t,!1,p);n&&n.render||(r.user=!0),v?v.push(r):O(r)}function S(e,t,n){n=n?Object.assign({},d,n):d;const r=j(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,O(r),P.bind(r)}function I(e){if(null===b)return e();const t=b;b=null;try{return e()}finally{b=t}}function $(e){C((()=>I(e)))}function T(e){return null===f||(null===f.cleanups?f.cleanups=[e]:f.cleanups.push(e)),e}function E(e){const t=S(e),n=S((()=>D(t())));return n.toArray=()=>{const e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function P(){if(this.sources&&this.state)if(this.state===p)O(this);else{const e=y;y=null,M((()=>Z(this)),!1),y=e}if(b){const e=this.observers?this.observers.length:0;b.sources?(b.sources.push(this),b.sourceSlots.push(e)):(b.sources=[this],b.sourceSlots=[e]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])}return this.value}function A(e,t,n){let r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&M((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t],r=m&&m.running;r&&m.disposed.has(n),(r?n.tState:n.state)||(n.pure?y.push(n):v.push(n),n.observers&&B(n)),r||(n.state=p)}if(y.length>1e6)throw y=[],new Error}),!1)),t}function O(e){if(!e.fn)return;z(e);const t=f,n=b,r=w;b=f=e,function(e,t,n){let r;try{r=e.fn(t)}catch(t){return e.pure&&(e.state=p,e.owned&&e.owned.forEach(z),e.owned=null),e.updatedAt=n+1,U(t)}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?A(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),b=n,f=t}function j(e,t,n,r=p,o){const a={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:f,context:null,pure:n};return null===f||f!==g&&(f.owned?f.owned.push(a):f.owned=[a]),a}function N(e){if(0===e.state)return;if(e.state===h)return Z(e);if(e.suspense&&I(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<w);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if((e=t[n]).state===p)O(e);else if(e.state===h){const n=y;y=null,M((()=>Z(e,t[0])),!1),y=n}}function M(e,t){if(y)return e();let n=!1;t||(y=[]),v?n=!0:v=[],w++;try{const t=e();return function(e){y&&(L(y),y=null);if(e)return;const t=v;v=null,t.length&&M((()=>u(t)),!1)}(n),t}catch(e){n||(v=null),y=null,U(e)}}function L(e){for(let t=0;t<e.length;t++)N(e[t])}function R(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:N(r)}for(t=0;t<n;t++)N(e[t])}function Z(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const e=r.state;e===p?r!==t&&(!r.updatedAt||r.updatedAt<w)&&N(r):e===h&&Z(r,t)}}}function B(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=h,n.pure?y.push(n):v.push(n),n.observers&&B(n))}}function z(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();n<r.length&&(e.sourceSlots[o]=n,r[n]=e,t.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)z(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function U(e,t=f){const n=function(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}(e);throw n}function D(e){if("function"==typeof e&&!e.length)return D(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=D(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const V=Symbol("fallback");function F(e){for(let t=0;t<e.length;t++)e[t]()}function H(e,t){return I((()=>e(t||{})))}function G(){return!0}const K={get:(e,t,n)=>t===l?n:e.get(t),has:(e,t)=>t===l||e.has(t),set:G,deleteProperty:G,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:G,deleteProperty:G}),ownKeys:e=>e.keys()};function q(e){return(e="function"==typeof e?e():e)?e:{}}function W(){for(let e=0,t=this.length;e<t;++e){const t=this[e]();if(void 0!==t)return t}}function Y(...e){let t=!1;for(let n=0;n<e.length;n++){const r=e[n];t=t||!!r&&l in r,e[n]="function"==typeof r?(t=!0,S(r)):r}if(t)return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=q(e[n])[t];if(void 0!==r)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in q(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(q(e[n])));return[...new Set(t)]}},K);const n={},r={},o=new Set;for(let t=e.length-1;t>=0;t--){const a=e[t];if(!a)continue;const i=Object.getOwnPropertyNames(a);for(let e=0,t=i.length;e<t;e++){const t=i[e];if("__proto__"===t||"constructor"===t)continue;const s=Object.getOwnPropertyDescriptor(a,t);if(o.has(t)){const e=r[t];e?s.get?e.push(s.get.bind(a)):void 0!==s.value&&e.push((()=>s.value)):void 0===n[t]&&(n[t]=s.value)}else s.get?(o.add(t),Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:W.bind(r[t]=[s.get.bind(a)])})):(void 0!==s.value&&o.add(t),n[t]=s.value)}}return n}function J(e,...t){if(l in e){const n=new Set(t.length>1?t.flat():t[0]),r=t.map((t=>new Proxy({get:n=>t.includes(n)?e[n]:void 0,has:n=>t.includes(n)&&n in e,keys:()=>t.filter((t=>t in e))},K)));return r.push(new Proxy({get:t=>n.has(t)?void 0:e[t],has:t=>!n.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!n.has(e)))},K)),r}const n={},r=t.map((()=>({})));for(const o of Object.getOwnPropertyNames(e)){const a=Object.getOwnPropertyDescriptor(e,o),i=!a.get&&!a.set&&a.enumerable&&a.writable&&a.configurable;let s=!1,l=0;for(const e of t)e.includes(o)&&(s=!0,i?r[l][o]=a.value:Object.defineProperty(r[l],o,a)),++l;s||(i?n[o]=a.value:Object.defineProperty(n,o,a))}return[...r,n]}let X=0;const Q=e=>`Stale read from <${e}>.`;function ee(e){const t="fallback"in e&&{fallback:()=>e.fallback};return S(function(e,t,n={}){let r=[],o=[],a=[],i=0,s=t.length>1?[]:null;return T((()=>F(a))),()=>{let l,d,u=e()||[];return u[c],I((()=>{let e,t,c,h,g,f,m,b,y,v=u.length;if(0===v)0!==i&&(F(a),a=[],r=[],o=[],i=0,s&&(s=[])),n.fallback&&(r=[V],o[0]=_((e=>(a[0]=e,n.fallback()))),i=1);else if(0===i){for(o=new Array(v),d=0;d<v;d++)r[d]=u[d],o[d]=_(p);i=v}else{for(c=new Array(v),h=new Array(v),s&&(g=new Array(v)),f=0,m=Math.min(i,v);f<m&&r[f]===u[f];f++);for(m=i-1,b=v-1;m>=f&&b>=f&&r[m]===u[b];m--,b--)c[b]=o[m],h[b]=a[m],s&&(g[b]=s[m]);for(e=new Map,t=new Array(b+1),d=b;d>=f;d--)y=u[d],l=e.get(y),t[d]=void 0===l?-1:l,e.set(y,d);for(l=f;l<=m;l++)y=r[l],d=e.get(y),void 0!==d&&-1!==d?(c[d]=o[l],h[d]=a[l],s&&(g[d]=s[l]),d=t[d],e.set(y,d)):a[l]();for(d=f;d<v;d++)d in c?(o[d]=c[d],a[d]=h[d],s&&(s[d]=g[d],s[d](d))):o[d]=_(p);o=o.slice(0,i=v),r=u.slice(0)}return o}));function p(e){if(a[d]=e,s){const[e,n]=x(d);return s[d]=n,t(u[d],e)}return t(u[d])}}}((()=>e.each),e.children,t||void 0))}function te(e){const t=e.keyed,n=S((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return S((()=>{const r=n();if(r){const o=e.children;return"function"==typeof o&&o.length>0?I((()=>o(t?r:()=>{if(!I(n))throw Q("Show");return e.when}))):o}return e.fallback}),void 0,void 0)}function ne(e){let t=!1;const n=E((()=>e.children)),r=S((()=>{let e=n();Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++){const r=e[n].when;if(r)return t=!!e[n].keyed,[n,r,e[n]]}return[-1]}),void 0,{equals:(e,n)=>e[0]===n[0]&&(t?e[1]===n[1]:!e[1]==!n[1])&&e[2]===n[2]});return S((()=>{const[n,o,a]=r();if(n<0)return e.fallback;const i=a.children;return"function"==typeof i&&i.length>0?I((()=>i(t?o:()=>{if(I(r)[0]!==n)throw Q("Match");return a.when}))):i}),void 0,void 0)}function re(e){return e}const oe=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),ae=new Set(["innerHTML","textContent","innerText","children"]),ie=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),se=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});const le=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ce={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};const de="_$DX_DELEGATE";function ue(e,t,n){let r;const o=()=>{const t=document.createElement("template");return t.innerHTML=e,n?t.content.firstChild.firstChild:t.content.firstChild},a=t?()=>I((()=>document.importNode(r||(r=o()),!0))):()=>(r||(r=o())).cloneNode(!0);return a.cloneNode=a,a}function pe(e,t=window.document){const n=t[de]||(t[de]=new Set);for(let r=0,o=e.length;r<o;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,we))}}function he(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function ge(e,t){null==t?e.removeAttribute("class"):e.className=t}function fe(e,t={},n,r){const o={};return r||k((()=>o.children=_e(e,t.children,o.children))),k((()=>t.ref&&t.ref(e))),k((()=>function(e,t,n,r,o={},a=!1){t||(t={});for(const r in o)if(!(r in t)){if("children"===r)continue;o[r]=ve(e,r,null,o[r],n,a)}for(const i in t){if("children"===i){r||_e(e,t.children);continue}const s=t[i];o[i]=ve(e,i,s,o[i],n,a)}}(e,t,n,!0,o,!0))),o}function me(e,t,n){return I((()=>e(t,n)))}function be(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return _e(e,t,r,n);k((r=>_e(e,t(),r,n)),r)}function ye(e,t,n){const r=t.trim().split(/\s+/);for(let t=0,o=r.length;t<o;t++)e.classList.toggle(r[t],n)}function ve(e,t,n,r,o,a){let i,s,l,c,d;if("style"===t)return function(e,t,n){if(!t)return n?he(e,"style"):t;const r=e.style;if("string"==typeof t)return r.cssText=t;let o,a;for(a in"string"==typeof n&&(r.cssText=n=void 0),n||(n={}),t||(t={}),n)null==t[a]&&r.removeProperty(a),delete n[a];for(a in t)o=t[a],o!==n[a]&&(r.setProperty(a,o),n[a]=o);return n}(e,n,r);if("classList"===t)return function(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let a,i;for(a=0,i=o.length;a<i;a++){const r=o[a];r&&"undefined"!==r&&!t[r]&&(ye(e,r,!1),delete n[r])}for(a=0,i=r.length;a<i;a++){const o=r[a],i=!!t[o];o&&"undefined"!==o&&n[o]!==i&&i&&(ye(e,o,!0),n[o]=i)}return n}(e,n,r);if(n===r)return r;if("ref"===t)a||n(e);else if("on:"===t.slice(0,3)){const o=t.slice(3);r&&e.removeEventListener(o,r),n&&e.addEventListener(o,n)}else if("oncapture:"===t.slice(0,10)){const o=t.slice(10);r&&e.removeEventListener(o,r,!0),n&&e.addEventListener(o,n,!0)}else if("on"===t.slice(0,2)){const o=t.slice(2).toLowerCase(),a=le.has(o);if(!a&&r){const t=Array.isArray(r)?r[0]:r;e.removeEventListener(o,t)}(a||n)&&(!function(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=t=>r.call(e,n[1],t))}else e.addEventListener(t,n)}(e,o,n,a),a&&pe([o]))}else if("attr:"===t.slice(0,5))he(e,t.slice(5),n);else if((d="prop:"===t.slice(0,5))||(l=ae.has(t))||!o&&((c=function(e,t){const n=se[e];return"object"==typeof n?n[t]?n.$:void 0:n}(t,e.tagName))||(s=oe.has(t)))||(i=e.nodeName.includes("-")))d&&(t=t.slice(5),s=!0),"class"===t||"className"===t?ge(e,n):!i||s||l?e[c||t]=n:e[(u=t,u.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase())))]=n;else{const r=o&&t.indexOf(":")>-1&&ce[t.split(":")[0]];r?function(e,t,n,r){null==r?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}(e,r,t,n):he(e,ie[t]||t,n)}var u;return n}function we(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n||document});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(void 0!==o?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function _e(e,t,n,r,o){for(;"function"==typeof n;)n=n();if(t===n)return n;const a=typeof t,i=void 0!==r;if(e=i&&n[0]&&n[0].parentNode||e,"string"===a||"number"===a)if("number"===a&&(t=t.toString()),i){let o=n[0];o&&3===o.nodeType?o.data=t:o=document.createTextNode(t),n=Ce(e,n,r,o)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===a)n=Ce(e,n,r);else{if("function"===a)return k((()=>{let o=t();for(;"function"==typeof o;)o=o();n=_e(e,o,n,r)})),()=>n;if(Array.isArray(t)){const a=[],s=n&&Array.isArray(n);if(xe(a,t,n,o))return k((()=>n=_e(e,a,n,r,!0))),()=>n;if(0===a.length){if(n=Ce(e,n,r),i)return n}else s?0===n.length?ke(e,a,r):function(e,t,n){let r=n.length,o=t.length,a=r,i=0,s=0,l=t[o-1].nextSibling,c=null;for(;i<o||s<a;)if(t[i]!==n[s]){for(;t[o-1]===n[a-1];)o--,a--;if(o===i){const t=a<r?s?n[s-1].nextSibling:n[a-s]:l;for(;s<a;)e.insertBefore(n[s++],t)}else if(a===s)for(;i<o;)c&&c.has(t[i])||t[i].remove(),i++;else if(t[i]===n[a-1]&&n[s]===t[o-1]){const r=t[--o].nextSibling;e.insertBefore(n[s++],t[i++].nextSibling),e.insertBefore(n[--a],r),t[o]=n[a]}else{if(!c){c=new Map;let e=s;for(;e<a;)c.set(n[e],e++)}const r=c.get(t[i]);if(null!=r)if(s<r&&r<a){let l,d=i,u=1;for(;++d<o&&d<a&&null!=(l=c.get(t[d]))&&l===r+u;)u++;if(u>r-s){const o=t[i];for(;s<r;)e.insertBefore(n[s++],o)}else e.replaceChild(n[s++],t[i++])}else i++;else t[i++].remove()}}else i++,s++}(e,n,a):(n&&Ce(e),ke(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(i)return n=Ce(e,n,r,t);Ce(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function xe(e,t,n,r){let o=!1;for(let a=0,i=t.length;a<i;a++){let i,s=t[a],l=n&&n[a];if(null==s||!0===s||!1===s);else if("object"==(i=typeof s)&&s.nodeType)e.push(s);else if(Array.isArray(s))o=xe(e,s,l)||o;else if("function"===i)if(r){for(;"function"==typeof s;)s=s();o=xe(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||o}else e.push(s),o=!0;else{const t=String(s);l&&3===l.nodeType&&l.data===t?e.push(l):e.push(document.createTextNode(t))}}return o}function ke(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function Ce(e,t,n,r){if(void 0===n)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let r=!1;for(let a=t.length-1;a>=0;a--){const i=t[a];if(o!==i){const t=i.parentNode===e;r||a?t&&i.remove():t?e.replaceChild(o,i):e.insertBefore(o,n)}else r=!0}}else e.insertBefore(o,n);return[o]}function Se(e){return(t,n)=>{const{element:r}=n;return _((o=>{const a=function(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const[o,a]=x(e[t[r]]);Object.defineProperty(n,t[r],{get:o,set(e){a((()=>e))}})}return n}(t);r.addPropertyChangedCallback(((e,t)=>a[e]=t)),r.addReleaseCallback((()=>{r.renderRoot.textContent="",o()}));const i=e(a,n);return be(r.renderRoot,i)}),function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&(!t.assignedSlot||!t.assignedSlot._$owner);)t=t.parentNode;return t&&t.assignedSlot?t.assignedSlot._$owner:e._$owner}(r))}}function Ie(e,t,n){return 2===arguments.length&&(n=t,t={}),i(e,t)(Se(n))}const $e={typebot:void 0,onNewInputBlock:void 0,onAnswer:void 0,onEnd:void 0,onInit:void 0,onNewLogs:void 0,isPreview:void 0,startGroupId:void 0,prefilledVariables:void 0,apiHost:void 0,resultId:void 0},Te={...$e,onClose:void 0,onOpen:void 0,theme:void 0,autoShowDelay:void 0,isOpen:void 0,defaultOpen:void 0},Ee={...$e,onClose:void 0,onOpen:void 0,theme:void 0,previewMessage:void 0,onPreviewMessageClick:void 0,autoShowDelay:void 0};var Pe='/*! tailwindcss v3.3.3 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.-right-1{right:-4px}.-right-2{right:-8px}.-top-2{top:-8px}.bottom-20{bottom:80px}.bottom-24{bottom:96px}.bottom-5{bottom:20px}.left-0{left:0}.left-5{left:20px}.right-0{right:0}.right-5{right:20px}.top-0{top:0}.z-10{z-index:10}.z-20{z-index:20}.m-2{margin:8px}.m-auto{margin:auto}.mx-4{margin-left:16px;margin-right:16px}.my-2{margin-bottom:8px;margin-top:8px}.-mr-1{margin-right:-4px}.-mt-1{margin-top:-4px}.mb-3{margin-bottom:12px}.ml-2{margin-left:8px}.mt-1{margin-top:4px}.mt-4{margin-top:16px}.\\!block{display:block!important}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-10{height:40px}.h-12{height:48px}.h-16{height:64px}.h-2{height:8px}.h-2\\.5{height:10px}.h-3{height:12px}.h-32{height:128px}.h-4{height:16px}.h-5{height:20px}.h-6{height:24px}.h-7{height:28px}.h-8{height:32px}.h-9{height:36px}.h-\\[80vh\\]{height:80vh}.h-\\[90\\%\\]{height:90%}.h-full{height:100%}.max-h-80{max-height:320px}.max-h-\\[464px\\]{max-height:464px}.max-h-\\[704px\\]{max-height:704px}.min-h-full{min-height:100%}.w-10{width:40px}.w-12{width:48px}.w-16{width:64px}.w-2{width:8px}.w-3{width:12px}.w-4{width:16px}.w-5{width:20px}.w-6{width:24px}.w-7{width:28px}.w-8{width:32px}.w-9{width:36px}.w-\\[90\\%\\]{width:90%}.w-full{width:100%}.min-w-0{min-width:0}.max-w-\\[256px\\]{max-width:256px}.max-w-full{max-width:100%}.max-w-lg{max-width:512px}.max-w-xs{max-width:320px}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-rotate-180{--tw-rotate:-180deg}.-rotate-180,.rotate-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-0{--tw-rotate:0deg}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-0,.scale-100{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation:fade-in .3s ease-out}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:4px}.gap-2{gap:8px}.gap-3{gap:12px}.gap-4{gap:16px}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-y-scroll{overflow-y:scroll}.scroll-smooth{scroll-behavior:smooth}.text-ellipsis{text-overflow:ellipsis}.whitespace-pre-wrap{white-space:pre-wrap}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:8px}.rounded-md{border-radius:6px}.border{border-width:1px}.border-2{border-width:2px}.border-dashed{border-style:dashed}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity:0.5}.bg-cover{background-size:cover}.bg-center{background-position:50%}.fill-transparent{fill:transparent}.stroke-2{stroke-width:2}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:4px}.p-4{padding:16px}.px-1{padding-left:4px;padding-right:4px}.px-3{padding-left:12px;padding-right:12px}.px-4{padding-left:16px;padding-right:16px}.px-8{padding-left:32px;padding-right:32px}.py-1{padding-bottom:4px;padding-top:4px}.py-2{padding-bottom:8px;padding-top:8px}.py-4{padding-bottom:16px;padding-top:16px}.py-6{padding-bottom:24px;padding-top:24px}.pb-0{padding-bottom:0}.pl-2{padding-left:8px}.pl-4{padding-left:16px}.pr-1{padding-right:4px}.pr-2{padding-right:8px}.pr-4{padding-right:16px}.pt-10{padding-top:40px}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:24px;line-height:32px}.text-4xl{font-size:36px;line-height:40px}.text-base{font-size:16px;line-height:24px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.font-normal{font-weight:400}.font-semibold{font-weight:600}.italic{font-style:italic}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-25{opacity:.25}.opacity-75{opacity:.75}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.brightness-150{--tw-brightness:brightness(1.5)}.brightness-150,.brightness-200{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.brightness-200{--tw-brightness:brightness(2)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-200{transition-duration:.2s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}:host{--typebot-container-bg-image:none;--typebot-container-bg-color:transparent;--typebot-container-font-family:"Open Sans";--typebot-container-color:#303235;--typebot-button-bg-color:#0042da;--typebot-button-bg-color-rgb:0,66,218;--typebot-button-color:#fff;--typebot-checkbox-bg-color:#fff;--typebot-host-bubble-bg-color:#f7f8ff;--typebot-host-bubble-color:#303235;--typebot-guest-bubble-bg-color:#ff8e21;--typebot-guest-bubble-color:#fff;--typebot-input-bg-color:#fff;--typebot-input-color:#303235;--typebot-input-placeholder-color:#9095a0;--typebot-header-bg-color:#fff;--typebot-header-color:#303235;--selectable-base-alpha:0;--typebot-border-radius:6px;--PhoneInputCountryFlag-borderColor:transparent;--PhoneInput-color--focus:transparent}.scrollable-container::-webkit-scrollbar{display:none}.scrollable-container{-ms-overflow-style:none;scrollbar-width:none}.text-fade-in{transition:opacity .4s ease-in .2s}.bubble-typing{transition:width .4s ease-out,height .4s ease-out}.bubble1,.bubble2,.bubble3{background-color:var(--typebot-host-bubble-color);opacity:.5}.bubble1,.bubble2{animation:chatBubbles 1s ease-in-out infinite}.bubble2{animation-delay:.3s}.bubble3{animation:chatBubbles 1s ease-in-out infinite;animation-delay:.5s}@keyframes chatBubbles{0%{transform:translateY(2.5)}50%{transform:translateY(-2.5px)}to{transform:translateY(0)}}button,input,textarea{font-weight:300}.slate-a{text-decoration:underline}.slate-html-container>div{min-height:24px}.slate-bold{font-weight:700}.slate-italic{font-style:oblique}.slate-underline{text-decoration:underline}.text-input::-moz-placeholder{color:var(--typebot-input-placeholder-color)!important;opacity:1!important}.text-input::placeholder{color:var(--typebot-input-placeholder-color)!important;opacity:1!important}.typebot-container{background-color:var(--typebot-container-bg-color);background-image:var(--typebot-container-bg-image);font-family:var(--typebot-container-font-family),-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}.typebot-button{background-color:var(--typebot-button-bg-color);border:1px solid var(--typebot-button-bg-color);border-radius:var(--typebot-border-radius);color:var(--typebot-button-color);transition:all .3s ease}.typebot-button.selectable{background-color:var(--typebot-host-bubble-bg-color);border:1px solid var(--typebot-button-bg-color);color:var(--typebot-host-bubble-color)}.typebot-selectable{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .08));border:1px solid rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .25));border-radius:var(--typebot-border-radius);color:var(--typebot-container-color);transition:all .3s ease}.typebot-selectable:hover{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .12));border-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .3))}.typebot-selectable.selected{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .18));border-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .35))}.typebot-checkbox{background-color:var(--typebot-checkbox-bg-color);border:1px solid var(--typebot-button-bg-color);border-radius:var(--typebot-border-radius);border-radius:2px;color:var(--typebot-button-color);padding:1px;transition:all .3s ease}.typebot-checkbox.checked{background-color:var(--typebot-button-bg-color)}.typebot-host-bubble{color:var(--typebot-host-bubble-color)}.typebot-host-bubble>.bubble-typing{background-color:var(--typebot-host-bubble-bg-color);border:var(--typebot-host-bubble-border);border-radius:6px}.typebot-host-bubble iframe,.typebot-host-bubble img,.typebot-host-bubble video{border-radius:var(--typebot-border-radius)}.typebot-guest-bubble{background-color:var(--typebot-guest-bubble-bg-color);border-radius:6px;color:var(--typebot-guest-bubble-color)}.typebot-input{background-color:var(--typebot-input-bg-color);border-radius:var(--typebot-border-radius);box-shadow:0 2px 6px -1px rgba(0,0,0,.1)}.typebot-input,.typebot-input-error-message{color:var(--typebot-input-color)}.typebot-button>.send-icon{fill:var(--typebot-button-color)}.typebot-chat-view{max-width:800px}.ping span{background-color:var(--typebot-button-bg-color)}.rating-icon-container svg{stroke:var(--typebot-button-bg-color);fill:var(--typebot-host-bubble-bg-color);height:42px;transition:fill .1s ease-out;width:42px}.rating-icon-container.selected svg{fill:var(--typebot-button-bg-color)}.rating-icon-container:hover svg{filter:brightness(.9)}.rating-icon-container:active svg{filter:brightness(.75)}.upload-progress-bar{border-radius:var(--typebot-border-radius)}.total-files-indicator,.upload-progress-bar{background-color:var(--typebot-button-bg-color)}.total-files-indicator{color:var(--typebot-button-color);font-size:10px}.typebot-upload-input{border-radius:var(--typebot-border-radius);transition:border-color .1s ease-out}.typebot-upload-input.dragging-over{border-color:var(--typebot-button-bg-color)}.secondary-button{background-color:var(--typebot-host-bubble-bg-color);border-radius:var(--typebot-border-radius);color:var(--typebot-host-bubble-color)}.typebot-country-select{color:var(--typebot-input-color)}.typebot-country-select,.typebot-date-input{background-color:var(--typebot-input-bg-color);border-radius:var(--typebot-border-radius)}.typebot-date-input{color:var(--typebot-input-color);color-scheme:light}.typebot-popup-blocked-toast{border-radius:var(--typebot-border-radius)}.hide-scrollbar::-webkit-scrollbar{display:none}.hide-scrollbar{-ms-overflow-style:none;scrollbar-width:none}.typebot-picture-button{background-color:var(--typebot-button-bg-color);border-radius:var(--typebot-border-radius);color:var(--typebot-button-color);transition:all .3s ease;width:236px}.typebot-picture-button>img,.typebot-selectable-picture>img{border-radius:var(--typebot-border-radius) var(--typebot-border-radius) 0 0;height:100%;max-height:200px;min-width:200px;-o-object-fit:cover;object-fit:cover;width:100%}.typebot-picture-button.has-svg>img,.typebot-selectable-picture.has-svg>img{max-height:128px;-o-object-fit:contain;object-fit:contain;padding:1rem}.typebot-selectable-picture{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .08));border:1px solid rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .25));border-radius:var(--typebot-border-radius);color:var(--typebot-container-color);transition:all .3s ease;width:236px}.typebot-selectable-picture:hover{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .12));border-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .3))}.typebot-selectable-picture.selected{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .18));border-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .35))}select option{background-color:var(--typebot-input-bg-color);color:var(--typebot-input-color)}.hover\\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:brightness-90:hover{--tw-brightness:brightness(.9)}.hover\\:brightness-90:hover,.hover\\:brightness-95:hover{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\\:brightness-95:hover{--tw-brightness:brightness(.95)}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:brightness-75:active{--tw-brightness:brightness(.75)}.active\\:brightness-75:active,.active\\:brightness-90:active{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.active\\:brightness-90:active{--tw-brightness:brightness(.9)}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.disabled\\:brightness-100:disabled{--tw-brightness:brightness(1);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}@media (min-width:640px){.sm\\:left-5{left:20px}.sm\\:right-5{right:20px}.sm\\:my-8{margin-bottom:32px;margin-top:32px}.sm\\:w-\\[400px\\]{width:400px}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:512px}.sm\\:p-0{padding:0}}';let Ae=function(e){return e.TEXT="text input",e.NUMBER="number input",e.EMAIL="email input",e.URL="url input",e.DATE="date input",e.PHONE="phone number input",e.CHOICE="choice input",e.PICTURE_CHOICE="picture choice input",e.PAYMENT="payment input",e.RATING="rating input",e.FILE="file input",e}({}),Oe=function(e){return e.TEXT="text",e.IMAGE="image",e.VIDEO="video",e.EMBED="embed",e.AUDIO="audio",e}({}),je=function(e){return e.SET_VARIABLE="Set variable",e.CONDITION="Condition",e.REDIRECT="Redirect",e.SCRIPT="Code",e.TYPEBOT_LINK="Typebot link",e.WAIT="Wait",e.JUMP="Jump",e.AB_TEST="AB test",e}({});const Ne=async e=>{try{const t="string"==typeof e?e:e.url,n=await fetch(t,{method:"string"==typeof e?"GET":e.method,mode:"cors",headers:"string"!=typeof e&&Me(e.body)?{"Content-Type":"application/json"}:void 0,body:"string"!=typeof e&&Me(e.body)?JSON.stringify(e.body):void 0}),r=await n.json();if(!n.ok)throw"error"in r?r.error:r;return{data:r}}catch(e){return console.error(e),{error:e}}},Me=e=>null!=e,Le=e=>null==e,Re=e=>null==e||""===e,Ze=e=>null!=e&&""!==e,Be=e=>e?.startsWith("data:image/svg")||e?.endsWith(".svg"),ze=e=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},Ue=e=>(([e,t,n])=>(299*e+587*t+114*n)/1e3>155)(ze(e));function De(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=De(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ve(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=De(e))&&(r&&(r+=" "),r+=t);return r}const Fe=ue('<svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">'),He=ue('<img part="button-icon" alt="Bubble button icon">'),Ge=ue("<span>"),Ke=ue('<svg viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.601 8.39897C18.269 8.06702 17.7309 8.06702 17.3989 8.39897L12 13.7979L6.60099 8.39897C6.26904 8.06702 5.73086 8.06702 5.39891 8.39897C5.06696 8.73091 5.06696 9.2691 5.39891 9.60105L11.3989 15.601C11.7309 15.933 12.269 15.933 12.601 15.601L18.601 9.60105C18.9329 9.2691 18.9329 8.73091 18.601 8.39897Z">'),qe=ue('<img part="button-icon" alt="Bubble button close icon">'),We=ue('<button part="button">'),Ye="#0042DA",Je="#27272A",Xe="#fff",Qe=e=>e.startsWith("http")||e.startsWith("data:image/svg+xml"),et=e=>(()=>{const t=We();return t.$$click=()=>e.toggleBot(),t.style.setProperty("z-index","42424242"),be(t,H(te,{get when(){return Le(e.customIconSrc)},keyed:!0,get children(){const t=Fe();return k((n=>{const r=e.iconColor??(Ue(e.backgroundColor??Ye)?Je:Xe),o=Ve("stroke-2 fill-transparent absolute duration-200 transition",e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100","large"===e.size?"w-9":"w-7");return r!==n._v$&&(null!=(n._v$=r)?t.style.setProperty("stroke",r):t.style.removeProperty("stroke")),o!==n._v$2&&he(t,"class",n._v$2=o),n}),{_v$:void 0,_v$2:void 0}),t}}),null),be(t,H(te,{get when(){return S((()=>!!e.customIconSrc))()&&Qe(e.customIconSrc)},get children(){const t=He();return k((n=>{const r=e.customIconSrc,o=Ve("duration-200 transition",e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100",Be(e.customIconSrc)?"large"===e.size?"w-9 h-9":"w-7 h-7":"w-[90%] h-[90%]",Be(e.customIconSrc)?"":"object-cover rounded-full");return r!==n._v$3&&he(t,"src",n._v$3=r),o!==n._v$4&&ge(t,n._v$4=o),n}),{_v$3:void 0,_v$4:void 0}),t}}),null),be(t,H(te,{get when(){return S((()=>!!e.customIconSrc))()&&!Qe(e.customIconSrc)},get children(){const t=Ge();return t.style.setProperty("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),be(t,(()=>e.customIconSrc)),k((()=>ge(t,Ve("text-4xl duration-200 transition",e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100")))),t}}),null),be(t,H(te,{get when(){return Le(e.customCloseIconSrc)},get children(){const t=Ke();return k((n=>{const r=e.iconColor??(Ue(e.backgroundColor??Ye)?Je:Xe),o=Ve("absolute duration-200 transition",e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0","large"===e.size?" w-9":" w-7");return r!==n._v$5&&(null!=(n._v$5=r)?t.style.setProperty("fill",r):t.style.removeProperty("fill")),o!==n._v$6&&he(t,"class",n._v$6=o),n}),{_v$5:void 0,_v$6:void 0}),t}}),null),be(t,H(te,{get when(){return S((()=>!!e.customCloseIconSrc))()&&Qe(e.customCloseIconSrc)},get children(){const t=qe();return k((n=>{const r=e.customCloseIconSrc,o=Ve("absolute duration-200 transition",e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0",Be(e.customCloseIconSrc)?"large"===e.size?"w-9 h-9":"w-7 h-7":"w-[90%] h-[90%]",Be(e.customCloseIconSrc)?"":"object-cover rounded-full");return r!==n._v$7&&he(t,"src",n._v$7=r),o!==n._v$8&&ge(t,n._v$8=o),n}),{_v$7:void 0,_v$8:void 0}),t}}),null),be(t,H(te,{get when(){return S((()=>!!e.customCloseIconSrc))()&&!Qe(e.customCloseIconSrc)},get children(){const t=Ge();return t.style.setProperty("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),be(t,(()=>e.customCloseIconSrc)),k((()=>ge(t,Ve("absolute text-4xl duration-200 transition",e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0")))),t}}),null),k((n=>{const r=Ve("fixed bottom-5 shadow-md  rounded-full hover:scale-110 active:scale-95 transition-transform duration-200 flex justify-center items-center animate-fade-in","large"===e.size?" w-16 h-16":" w-12 h-12","left"===e.placement?" left-5":" right-5"),o=e.backgroundColor??Ye;return r!==n._v$9&&ge(t,n._v$9=r),o!==n._v$10&&(null!=(n._v$10=o)?t.style.setProperty("background-color",o):t.style.removeProperty("background-color")),n}),{_v$9:void 0,_v$10:void 0}),t})();pe(["click"]);const tt=ue('<div part="preview-message"><p>'),nt=ue('<img class="rounded-full w-8 h-8 object-cover" alt="Bot avatar" elementtiming="Bot avatar" fetchpriority="high">'),rt=ue('<button part="preview-message-close-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18">'),ot="#F7F8FF",at="#303235",it=e=>{const[t,n]=x(!1);return(()=>{const r=tt(),o=r.firstChild;return r.addEventListener("mouseleave",(()=>n(!1))),r.addEventListener("mouseenter",(()=>n(!0))),r.$$click=()=>e.onClick(),r.style.setProperty("z-index","42424242"),be(r,H(st,{get isHovered(){return t()},get previewMessageTheme(){return e.previewMessageTheme},get onClick(){return e.onCloseClick}}),o),be(r,H(te,{get when(){return e.avatarUrl},keyed:!0,children:e=>(()=>{const t=nt();return he(t,"src",e),t})()}),o),be(o,(()=>e.message)),k((t=>{const n="fixed max-w-[256px] rounded-md duration-200 flex items-center gap-4 shadow-md animate-fade-in cursor-pointer hover:shadow-lg p-4"+("large"===e.buttonSize?" bottom-24":" bottom-20")+("left"===e.placement?" left-5":" right-5"),o=e.previewMessageTheme?.backgroundColor??ot,a=e.previewMessageTheme?.textColor??at;return n!==t._v$&&ge(r,t._v$=n),o!==t._v$2&&(null!=(t._v$2=o)?r.style.setProperty("background-color",o):r.style.removeProperty("background-color")),a!==t._v$3&&(null!=(t._v$3=a)?r.style.setProperty("color",a):r.style.removeProperty("color")),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})()},st=e=>(()=>{const t=rt();return t.$$click=t=>(t.stopPropagation(),e.onClick()),k((n=>{const r="absolute -top-2 -right-2 rounded-full w-6 h-6 p-1 hover:brightness-95 active:brightness-90 transition-all border "+(e.isHovered?"opacity-100":"opacity-0"),o=e.previewMessageTheme?.closeButtonBackgroundColor??ot,a=e.previewMessageTheme?.closeButtonIconColor??at;return r!==n._v$4&&ge(t,n._v$4=r),o!==n._v$5&&(null!=(n._v$5=o)?t.style.setProperty("background-color",o):t.style.removeProperty("background-color")),a!==n._v$6&&(null!=(n._v$6=a)?t.style.setProperty("color",a):t.style.removeProperty("color")),n}),{_v$4:void 0,_v$5:void 0,_v$6:void 0}),t})();pe(["click"]);const lt=ue('<svg viewBox="0 0 800 800" width="16"><rect width="800" height="800" rx="80" fill="#0042DA"></rect><rect x="650" y="293" width="85.4704" height="384.617" rx="20" transform="rotate(90 650 293)" fill="#FF8E20"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M192.735 378.47C216.337 378.47 235.47 359.337 235.47 335.735C235.47 312.133 216.337 293 192.735 293C169.133 293 150 312.133 150 335.735C150 359.337 169.133 378.47 192.735 378.47Z" fill="#FF8E20"></path><rect x="150" y="506.677" width="85.4704" height="384.617" rx="20" transform="rotate(-90 150 506.677)" fill="white"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M607.265 421.206C583.663 421.206 564.53 440.34 564.53 463.942C564.53 487.544 583.663 506.677 607.265 506.677C630.867 506.677 650 487.544 650 463.942C650 440.34 630.867 421.206 607.265 421.206Z" fill="white">'),ct=()=>lt(),dt=ue('<a href="https://www.typebot.io/?utm_source=litebadge" target="_blank" rel="noopener noreferrer" class="lite-badge" id="lite-badge"><span>Made with Typebot'),ut=e=>{let t,n;const r=n=>{n.forEach((n=>{n.removedNodes.forEach((n=>{"id"in n&&t&&"lite-badge"==n.id&&(console.log("Sorry, you can't remove the brand 😅"),e.botContainer?.append(t))}))}))};return $((()=>{document&&e.botContainer&&(n=new MutationObserver(r),n.observe(e.botContainer,{subtree:!1,childList:!0}))})),T((()=>{n&&n.disconnect()})),(()=>{const e=dt(),n=e.firstChild;return"function"==typeof t?me(t,e):t=e,be(e,H(ct,{}),n),e})()},pt=e=>"undefined"!=typeof window?window.__ENV?window.__ENV[e]:void 0:"undefined"!=typeof process?process.env[e]:void 0,ht=()=>pt("NEXT_PUBLIC_VIEWER_INTERNAL_URL")??pt("NEXT_PUBLIC_VIEWER_URL")?.split(",")[0]??"https://viewer.typebot.io",gt=()=>sessionStorage.getItem("typebotPaymentInProgress"),ft=()=>{sessionStorage.removeItem("typebotPaymentInProgress")};const[mt,bt]=x(),yt=ue('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="19px" color="white"><path d="M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z">'),vt=e=>(()=>{const t=yt();return fe(t,e,!0,!0),t})(),wt=ue('<svg><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),_t=e=>(()=>{const t=wt();return fe(t,Y(e,{get class(){return"animate-spin h-6 w-6 "+e.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),t})(),xt=ue("<button>"),kt=e=>{const t=E((()=>e.children)),[n,r]=J(e,["disabled","class"]);return(()=>{const o=xt();return fe(o,Y(r,{get disabled(){return e.isDisabled||e.isLoading},get class(){return"py-2 px-4 font-semibold focus:outline-none filter hover:brightness-90 active:brightness-75 disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 flex justify-center"+("secondary"===e.variant?" secondary-button":" typebot-button")+" "+n.class}}),!1,!0),be(o,H(te,{get when(){return!e.isLoading},get fallback(){return H(_t,{})},get children(){return t()}})),o})()},Ct=e=>{const[t,n]=J(e,["disableIcon"]);return H(kt,Y({type:"submit"},n,{get children(){return S((()=>!!(mt()&&!t.disableIcon||"string"==typeof e.children&&Re(e.children))))()?H(vt,{get class(){return"send-icon flex "+(t.disableIcon?"hidden":"")}}):e.children}}))},St=ue('<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full bubble1"></div><div class="w-2 h-2 rounded-full bubble2"></div><div class="w-2 h-2 rounded-full bubble3">'),It=()=>St(),$t=ue('<input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" type="text">'),Tt=e=>{const[t,n]=J(e,["ref","onInput"]);return(()=>{const r=$t();r.$$input=e=>t.onInput(e.currentTarget.value);const o=e.ref;return"function"==typeof o?me(o,r):e.ref=r,r.style.setProperty("font-size","16px"),fe(r,n,!1,!1),r})()};pe(["input"]);const Et=ue('<textarea class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" rows="6" data-testid="textarea" required>'),Pt=e=>{const[t,n]=J(e,["ref","onInput"]);return(()=>{const e=Et();e.$$input=e=>t.onInput(e.currentTarget.value);const r=t.ref;return"function"==typeof r?me(r,e):t.ref=e,e.style.setProperty("font-size","16px"),fe(e,Y({get autofocus(){return!mt()}},n),!1,!1),e})()};pe(["input"]);const At=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><audio controls>');let Ot;const jt=e=>{let t,n,r=!1;const[o,a]=x(!0);return $((()=>{Ot=setTimeout((()=>{r||(r=!0,a(!1),setTimeout((()=>e.onTransitionEnd(t?.offsetTop)),400))}),100)})),T((()=>{Ot&&clearTimeout(Ot)})),(()=>{const r=At(),a=r.firstChild.firstChild.firstChild,i=a.nextSibling;"function"==typeof t?me(t,r):t=r,be(a,(()=>{const e=S((()=>!!o()));return()=>e()&&H(It,{})})());return"function"==typeof n?me(n,i):n=i,k((t=>{const n=o()?"64px":"100%",r=o()?"32px":"100%",s=e.content.url,l=e.content.isAutoplayEnabled??!0,c="z-10 text-fade-in "+(o()?"opacity-0":"opacity-100 m-2"),d=o()?mt()?"32px":"36px":"revert";return n!==t._v$&&(null!=(t._v$=n)?a.style.setProperty("width",n):a.style.removeProperty("width")),r!==t._v$2&&(null!=(t._v$2=r)?a.style.setProperty("height",r):a.style.removeProperty("height")),s!==t._v$3&&he(i,"src",t._v$3=s),l!==t._v$4&&(i.autoplay=t._v$4=l),c!==t._v$5&&ge(i,t._v$5=c),d!==t._v$6&&(null!=(t._v$6=d)?i.style.setProperty("height",d):i.style.removeProperty("height")),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),r})()},Nt=ue('<div class="flex flex-col w-full animate-fade-in"><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><div><iframe id="embed-bubble-content" class="w-full h-full ">');let Mt;const Lt=e=>{let t;const[n,r]=x(!0);return $((()=>{Mt=setTimeout((()=>{r(!1),setTimeout((()=>{e.onTransitionEnd(t?.offsetTop)}),400)}),2e3)})),T((()=>{Mt&&clearTimeout(Mt)})),(()=>{const r=Nt(),o=r.firstChild.firstChild.firstChild,a=o.nextSibling,i=a.firstChild;return"function"==typeof t?me(t,r):t=r,be(o,(()=>{const e=S((()=>!!n()));return()=>e()&&H(It,{})})()),k((t=>{const r=n()?"64px":"100%",s=n()?"32px":"100%",l=Ve("p-4 z-20 text-fade-in w-full",n()?"opacity-0":"opacity-100 p-4"),c=n()?mt()?"32px":"36px":`${e.content.height}px`,d=e.content.url;return r!==t._v$&&(null!=(t._v$=r)?o.style.setProperty("width",r):o.style.removeProperty("width")),s!==t._v$2&&(null!=(t._v$2=s)?o.style.setProperty("height",s):o.style.removeProperty("height")),l!==t._v$3&&ge(a,t._v$3=l),c!==t._v$4&&(null!=(t._v$4=c)?a.style.setProperty("height",c):a.style.removeProperty("height")),d!==t._v$5&&he(i,"src",t._v$5=d),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()},Rt=ue('<img elementtiming="Bubble image" fetchpriority="high">'),Zt=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">'),Bt=ue('<a target="_blank">'),zt=ue("<figure>");let Ut;const Dt=e=>{let t,n;const[r,o]=x(!0),a=()=>{r()&&(o(!1),setTimeout((()=>{e.onTransitionEnd(t?.offsetTop)}),400))};$((()=>{n&&(Ut=setTimeout(a,5e3),n.onload=()=>{clearTimeout(Ut),a()})})),T((()=>{Ut&&clearTimeout(Ut)}));const i=(()=>{const t=Rt();return"function"==typeof n?me(n,t):n=t,t.style.setProperty("max-height","512px"),k((n=>{const o=e.content.url,a=e.content.clickLink?.alt??"Bubble image",i="text-fade-in w-full "+(r()?"opacity-0":"opacity-100"),s=r()?"32px":"auto";return o!==n._v$&&he(t,"src",n._v$=o),a!==n._v$2&&he(t,"alt",n._v$2=a),i!==n._v$3&&ge(t,n._v$3=i),s!==n._v$4&&(null!=(n._v$4=s)?t.style.setProperty("height",s):t.style.removeProperty("height")),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})();return(()=>{const n=Zt(),o=n.firstChild.firstChild,a=o.firstChild;return"function"==typeof t?me(t,n):t=n,be(a,(()=>{const e=S((()=>!!r()));return()=>e()?H(It,{}):null})()),be(o,(()=>{const t=S((()=>!!e.content.clickLink));return()=>t()?(()=>{const t=Bt();return be(t,i),k((n=>{const o=e.content.clickLink.url,a=Ve("z-10",r()?"h-8":"p-4");return o!==n._v$7&&he(t,"href",n._v$7=o),a!==n._v$8&&ge(t,n._v$8=a),n}),{_v$7:void 0,_v$8:void 0}),t})():(()=>{const e=zt();return be(e,i),k((()=>ge(e,Ve("z-10",!r()&&"p-4",r()?mt()?"h-8":"h-9":"")))),e})()})(),null),k((e=>{const t=r()?"64px":"100%",n=r()?"32px":"100%";return t!==e._v$5&&(null!=(e._v$5=t)?a.style.setProperty("width",t):a.style.removeProperty("width")),n!==e._v$6&&(null!=(e._v$6=n)?a.style.setProperty("height",n):a.style.removeProperty("height")),e}),{_v$5:void 0,_v$6:void 0}),n})()},Vt=ue("<span>"),Ft=e=>H(te,{get when(){return((e,t,n)=>{let r="";return e&&(r+="slate-bold"),t&&(r+=" slate-italic"),n&&(r+=" slate-underline"),r})(e.bold,e.italic,e.underline)},keyed:!0,get fallback(){return S((()=>e.text))},children:t=>(()=>{const n=Vt();return ge(n,t),be(n,(()=>e.text)),n})()}),Ht=ue('<a target="_blank" class="slate-a">'),Gt=ue("<div>"),Kt=e=>H(te,{get when(){return!e.element.text},get fallback(){return H(Ft,Y((()=>e.element)))},get children(){return H(ne,{get fallback(){return(()=>{const t=Gt();return be(t,H(ee,{get each(){return e.element.children},children:e=>H(Kt,{element:e})})),t})()},get children(){return H(re,{get when(){return"a"===e.element.type},get children(){const t=Ht();return be(t,H(ee,{get each(){return e.element.children},children:e=>H(Kt,{element:e})})),k((()=>he(t,"href",e.element.url))),t}})}})}}),qt=e=>e.map((e=>e.text??qt(e.children))).join("");var Wt,Yt;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Wt||(Wt={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Yt||(Yt={}));const Jt=Wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xt=e=>{switch(typeof e){case"undefined":return Jt.undefined;case"string":return Jt.string;case"number":return isNaN(e)?Jt.nan:Jt.number;case"boolean":return Jt.boolean;case"function":return Jt.function;case"bigint":return Jt.bigint;case"symbol":return Jt.symbol;case"object":return Array.isArray(e)?Jt.array:null===e?Jt.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Jt.promise:"undefined"!=typeof Map&&e instanceof Map?Jt.map:"undefined"!=typeof Set&&e instanceof Set?Jt.set:"undefined"!=typeof Date&&e instanceof Date?Jt.date:Jt.object;default:return Jt.unknown}},Qt=Wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class en extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Wt.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}en.create=e=>new en(e);const tn=(e,t)=>{let n;switch(e.code){case Qt.invalid_type:n=e.received===Jt.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Qt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Wt.jsonStringifyReplacer)}`;break;case Qt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Wt.joinValues(e.keys,", ")}`;break;case Qt.invalid_union:n="Invalid input";break;case Qt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Wt.joinValues(e.options)}`;break;case Qt.invalid_enum_value:n=`Invalid enum value. Expected ${Wt.joinValues(e.options)}, received '${e.received}'`;break;case Qt.invalid_arguments:n="Invalid function arguments";break;case Qt.invalid_return_type:n="Invalid function return type";break;case Qt.invalid_date:n="Invalid date";break;case Qt.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Wt.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Qt.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Qt.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Qt.custom:n="Invalid input";break;case Qt.invalid_intersection_types:n="Intersection results could not be merged";break;case Qt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Qt.not_finite:n="Number must be finite";break;default:n=t.defaultError,Wt.assertNever(e)}return{message:n}};let nn=tn;function rn(){return nn}const on=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,a=[...n,...o.path||[]],i={...o,path:a};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const e of l)s=e(i,{data:t,defaultError:s}).message;return{...o,path:a,message:o.message||s}};function an(e,t){const n=on({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,rn(),tn].filter((e=>!!e))});e.common.issues.push(n)}class sn{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return ln;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return sn.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return ln;if("aborted"===o.status)return ln;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),(void 0!==o.value||r.alwaysSet)&&(n[t.value]=o.value)}return{status:e.value,value:n}}}const ln=Object.freeze({status:"aborted"}),cn=e=>({status:"dirty",value:e}),dn=e=>({status:"valid",value:e}),un=e=>"aborted"===e.status,pn=e=>"dirty"===e.status,hn=e=>"valid"===e.status,gn=e=>"undefined"!=typeof Promise&&e instanceof Promise;var fn;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(fn||(fn={}));class mn{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bn=(e,t)=>{if(hn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new en(e.common.issues);return this._error=t,this._error}}};function yn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError},description:o}}class vn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Xt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sn,ctx:{common:e.parent.common,data:e.data,parsedType:Xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(gn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xt(e)},o=this._parseSync({data:e,path:r.path,parent:r});return bn(r,o)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xt(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(gn(r)?r:Promise.resolve(r));return bn(n,o)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const o=e(t),a=()=>r.addIssue({code:Qt.custom,...n(t)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then((e=>!!e||(a(),!1))):!!o||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new ir({schema:this,typeName:br.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return sr.create(this,this._def)}nullable(){return lr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Un.create(this,this._def)}promise(){return ar.create(this,this._def)}or(e){return Fn.create([this,e],this._def)}and(e){return qn.create(this,e,this._def)}transform(e){return new ir({...yn(this._def),schema:this,typeName:br.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new cr({...yn(this._def),innerType:this,defaultValue:t,typeName:br.ZodDefault})}brand(){return new hr({typeName:br.ZodBranded,type:this,...yn(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new dr({...yn(this._def),innerType:this,catchValue:t,typeName:br.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return gr.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wn=/^c[^\s-]{8,}$/i,_n=/^[a-z][a-z0-9]*$/,xn=/[0-9A-HJKMNP-TV-Z]{26}/,kn=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Cn=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Sn=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,In=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,$n=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class Tn extends vn{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement((t=>e.test(t)),{validation:t,code:Qt.invalid_string,...fn.errToObj(n)}),this.nonempty=e=>this.min(1,fn.errToObj(e)),this.trim=()=>new Tn({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Tn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Tn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Jt.string){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.string,received:t.parsedType}),ln}const t=new sn;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),an(n,{code:Qt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),an(n,{code:Qt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,o=e.data.length<i.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?an(n,{code:Qt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&an(n,{code:Qt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)Cn.test(e.data)||(n=this._getOrReturnCtx(e,n),an(n,{validation:"email",code:Qt.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)Sn.test(e.data)||(n=this._getOrReturnCtx(e,n),an(n,{validation:"emoji",code:Qt.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)kn.test(e.data)||(n=this._getOrReturnCtx(e,n),an(n,{validation:"uuid",code:Qt.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)wn.test(e.data)||(n=this._getOrReturnCtx(e,n),an(n,{validation:"cuid",code:Qt.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)_n.test(e.data)||(n=this._getOrReturnCtx(e,n),an(n,{validation:"cuid2",code:Qt.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)xn.test(e.data)||(n=this._getOrReturnCtx(e,n),an(n,{validation:"ulid",code:Qt.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),an(n,{validation:"url",code:Qt.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),an(n,{validation:"regex",code:Qt.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),an(n,{code:Qt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),an(n,{code:Qt.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),an(n,{code:Qt.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){((a=i).precision?a.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${a.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${a.precision}}Z$`):0===a.precision?a.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):a.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),an(n,{code:Qt.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else"ip"===i.kind?(r=e.data,("v4"!==(o=i.version)&&o||!In.test(r))&&("v6"!==o&&o||!$n.test(r))&&(n=this._getOrReturnCtx(e,n),an(n,{validation:"ip",code:Qt.invalid_string,message:i.message}),t.dirty())):Wt.assertNever(i);var r,o,a;return{status:t.value,value:e.data}}_addCheck(e){return new Tn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...fn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...fn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...fn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...fn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...fn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...fn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...fn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...fn.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...fn.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...fn.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...fn.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...fn.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...fn.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...fn.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...fn.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...fn.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function En(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return parseInt(e.toFixed(o).replace(".",""))%parseInt(t.toFixed(o).replace(".",""))/Math.pow(10,o)}Tn.create=e=>{var t;return new Tn({checks:[],typeName:br.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...yn(e)})};class Pn extends vn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Jt.number){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.number,received:t.parsedType}),ln}let t;const n=new sn;for(const r of this._def.checks)if("int"===r.kind)Wt.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),an(t,{code:Qt.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),an(t,{code:Qt.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),an(t,{code:Qt.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==En(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),an(t,{code:Qt.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),an(t,{code:Qt.not_finite,message:r.message}),n.dirty()):Wt.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,fn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,fn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,fn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,fn.toString(t))}setLimit(e,t,n,r){return new Pn({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:fn.toString(r)}]})}_addCheck(e){return new Pn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:fn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:fn.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:fn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fn.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Wt.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Pn.create=e=>new Pn({checks:[],typeName:br.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...yn(e)});class An extends vn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==Jt.bigint){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.bigint,received:t.parsedType}),ln}let t;const n=new sn;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),an(t,{code:Qt.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),an(t,{code:Qt.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),an(t,{code:Qt.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Wt.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,fn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,fn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,fn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,fn.toString(t))}setLimit(e,t,n,r){return new An({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:fn.toString(r)}]})}_addCheck(e){return new An({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:fn.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}An.create=e=>{var t;return new An({checks:[],typeName:br.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...yn(e)})};class On extends vn{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Jt.boolean){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.boolean,received:t.parsedType}),ln}return dn(e.data)}}On.create=e=>new On({typeName:br.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...yn(e)});class jn extends vn{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Jt.date){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.date,received:t.parsedType}),ln}if(isNaN(e.data.getTime())){return an(this._getOrReturnCtx(e),{code:Qt.invalid_date}),ln}const t=new sn;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),an(n,{code:Qt.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),an(n,{code:Qt.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Wt.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new jn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:fn.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:fn.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}jn.create=e=>new jn({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:br.ZodDate,...yn(e)});class Nn extends vn{_parse(e){if(this._getType(e)!==Jt.symbol){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.symbol,received:t.parsedType}),ln}return dn(e.data)}}Nn.create=e=>new Nn({typeName:br.ZodSymbol,...yn(e)});class Mn extends vn{_parse(e){if(this._getType(e)!==Jt.undefined){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.undefined,received:t.parsedType}),ln}return dn(e.data)}}Mn.create=e=>new Mn({typeName:br.ZodUndefined,...yn(e)});class Ln extends vn{_parse(e){if(this._getType(e)!==Jt.null){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.null,received:t.parsedType}),ln}return dn(e.data)}}Ln.create=e=>new Ln({typeName:br.ZodNull,...yn(e)});class Rn extends vn{constructor(){super(...arguments),this._any=!0}_parse(e){return dn(e.data)}}Rn.create=e=>new Rn({typeName:br.ZodAny,...yn(e)});class Zn extends vn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dn(e.data)}}Zn.create=e=>new Zn({typeName:br.ZodUnknown,...yn(e)});class Bn extends vn{_parse(e){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.never,received:t.parsedType}),ln}}Bn.create=e=>new Bn({typeName:br.ZodNever,...yn(e)});class zn extends vn{_parse(e){if(this._getType(e)!==Jt.undefined){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.void,received:t.parsedType}),ln}return dn(e.data)}}zn.create=e=>new zn({typeName:br.ZodVoid,...yn(e)});class Un extends vn{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Jt.array)return an(t,{code:Qt.invalid_type,expected:Jt.array,received:t.parsedType}),ln;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(an(t,{code:e?Qt.too_big:Qt.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(an(t,{code:Qt.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(an(t,{code:Qt.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new mn(t,e,t.path,n))))).then((e=>sn.mergeArray(n,e)));const o=[...t.data].map(((e,n)=>r.type._parseSync(new mn(t,e,t.path,n))));return sn.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new Un({...this._def,minLength:{value:e,message:fn.toString(t)}})}max(e,t){return new Un({...this._def,maxLength:{value:e,message:fn.toString(t)}})}length(e,t){return new Un({...this._def,exactLength:{value:e,message:fn.toString(t)}})}nonempty(e){return this.min(1,e)}}function Dn(e){if(e instanceof Vn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=sr.create(Dn(r))}return new Vn({...e._def,shape:()=>t})}return e instanceof Un?new Un({...e._def,type:Dn(e.element)}):e instanceof sr?sr.create(Dn(e.unwrap())):e instanceof lr?lr.create(Dn(e.unwrap())):e instanceof Wn?Wn.create(e.items.map((e=>Dn(e)))):e}Un.create=(e,t)=>new Un({type:e,minLength:null,maxLength:null,exactLength:null,typeName:br.ZodArray,...yn(t)});class Vn extends vn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Wt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Jt.object){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.object,received:t.parsedType}),ln}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Bn&&"strip"===this._def.unknownKeys))for(const e in n.data)o.includes(e)||a.push(e);const i=[];for(const e of o){const t=r[e],o=n.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new mn(n,o,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Bn){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of a)i.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(an(n,{code:Qt.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new mn(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>sn.mergeObjectSync(t,e))):sn.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return fn.errToObj,new Vn({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,o,a,i;const s=null!==(a=null===(o=(r=this._def).errorMap)||void 0===o?void 0:o.call(r,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=fn.errToObj(e).message)&&void 0!==i?i:s}:{message:s}}}:{}})}strip(){return new Vn({...this._def,unknownKeys:"strip"})}passthrough(){return new Vn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Vn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Vn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:br.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Vn({...this._def,catchall:e})}pick(e){const t={};return Wt.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Vn({...this._def,shape:()=>t})}omit(e){const t={};return Wt.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Vn({...this._def,shape:()=>t})}deepPartial(){return Dn(this)}partial(e){const t={};return Wt.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Vn({...this._def,shape:()=>t})}required(e){const t={};return Wt.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof sr;)e=e._def.innerType;t[n]=e}})),new Vn({...this._def,shape:()=>t})}keyof(){return nr(Wt.objectKeys(this.shape))}}Vn.create=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strip",catchall:Bn.create(),typeName:br.ZodObject,...yn(t)}),Vn.strictCreate=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strict",catchall:Bn.create(),typeName:br.ZodObject,...yn(t)}),Vn.lazycreate=(e,t)=>new Vn({shape:e,unknownKeys:"strip",catchall:Bn.create(),typeName:br.ZodObject,...yn(t)});class Fn extends vn{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new en(e.ctx.common.issues)));return an(t,{code:Qt.invalid_union,unionErrors:n}),ln}));{let e;const r=[];for(const o of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map((e=>new en(e)));return an(t,{code:Qt.invalid_union,unionErrors:o}),ln}}get options(){return this._def.options}}Fn.create=(e,t)=>new Fn({options:e,typeName:br.ZodUnion,...yn(t)});const Hn=e=>e instanceof er?Hn(e.schema):e instanceof ir?Hn(e.innerType()):e instanceof tr?[e.value]:e instanceof rr?e.options:e instanceof or?Object.keys(e.enum):e instanceof cr?Hn(e._def.innerType):e instanceof Mn?[void 0]:e instanceof Ln?[null]:null;class Gn extends vn{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Jt.object)return an(t,{code:Qt.invalid_type,expected:Jt.object,received:t.parsedType}),ln;const n=this.discriminator,r=t.data[n],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(an(t,{code:Qt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ln)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Hn(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of t){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,n)}}return new Gn({typeName:br.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...yn(n)})}}function Kn(e,t){const n=Xt(e),r=Xt(t);if(e===t)return{valid:!0,data:e};if(n===Jt.object&&r===Jt.object){const n=Wt.objectKeys(t),r=Wt.objectKeys(e).filter((e=>-1!==n.indexOf(e))),o={...e,...t};for(const n of r){const r=Kn(e[n],t[n]);if(!r.valid)return{valid:!1};o[n]=r.data}return{valid:!0,data:o}}if(n===Jt.array&&r===Jt.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=Kn(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===Jt.date&&r===Jt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class qn extends vn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(un(e)||un(r))return ln;const o=Kn(e.value,r.value);return o.valid?((pn(e)||pn(r))&&t.dirty(),{status:t.value,value:o.data}):(an(n,{code:Qt.invalid_intersection_types}),ln)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qn.create=(e,t,n)=>new qn({left:e,right:t,typeName:br.ZodIntersection,...yn(n)});class Wn extends vn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Jt.array)return an(n,{code:Qt.invalid_type,expected:Jt.array,received:n.parsedType}),ln;if(n.data.length<this._def.items.length)return an(n,{code:Qt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ln;!this._def.rest&&n.data.length>this._def.items.length&&(an(n,{code:Qt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new mn(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>sn.mergeArray(t,e))):sn.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Wn({...this._def,rest:e})}}Wn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wn({items:e,typeName:br.ZodTuple,rest:null,...yn(t)})};class Yn extends vn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Jt.object)return an(n,{code:Qt.invalid_type,expected:Jt.object,received:n.parsedType}),ln;const r=[],o=this._def.keyType,a=this._def.valueType;for(const e in n.data)r.push({key:o._parse(new mn(n,e,n.path,e)),value:a._parse(new mn(n,n.data[e],n.path,e))});return n.common.async?sn.mergeObjectAsync(t,r):sn.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new Yn(t instanceof vn?{keyType:e,valueType:t,typeName:br.ZodRecord,...yn(n)}:{keyType:Tn.create(),valueType:e,typeName:br.ZodRecord,...yn(t)})}}class Jn extends vn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Jt.map)return an(n,{code:Qt.invalid_type,expected:Jt.map,received:n.parsedType}),ln;const r=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map((([e,t],a)=>({key:r._parse(new mn(n,e,n.path,[a,"key"])),value:o._parse(new mn(n,t,n.path,[a,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return ln;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return ln;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}Jn.create=(e,t,n)=>new Jn({valueType:t,keyType:e,typeName:br.ZodMap,...yn(n)});class Xn extends vn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Jt.set)return an(n,{code:Qt.invalid_type,expected:Jt.set,received:n.parsedType}),ln;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(an(n,{code:Qt.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(an(n,{code:Qt.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return ln;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>o._parse(new mn(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>a(e))):a(i)}min(e,t){return new Xn({...this._def,minSize:{value:e,message:fn.toString(t)}})}max(e,t){return new Xn({...this._def,maxSize:{value:e,message:fn.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Xn.create=(e,t)=>new Xn({valueType:e,minSize:null,maxSize:null,typeName:br.ZodSet,...yn(t)});class Qn extends vn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Jt.function)return an(t,{code:Qt.invalid_type,expected:Jt.function,received:t.parsedType}),ln;function n(e,n){return on({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rn(),tn].filter((e=>!!e)),issueData:{code:Qt.invalid_arguments,argumentsError:n}})}function r(e,n){return on({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rn(),tn].filter((e=>!!e)),issueData:{code:Qt.invalid_return_type,returnTypeError:n}})}const o={errorMap:t.common.contextualErrorMap},a=t.data;return this._def.returns instanceof ar?dn((async(...e)=>{const t=new en([]),i=await this._def.args.parseAsync(e,o).catch((r=>{throw t.addIssue(n(e,r)),t})),s=await a(...i);return await this._def.returns._def.type.parseAsync(s,o).catch((e=>{throw t.addIssue(r(s,e)),t}))})):dn(((...e)=>{const t=this._def.args.safeParse(e,o);if(!t.success)throw new en([n(e,t.error)]);const i=a(...t.data),s=this._def.returns.safeParse(i,o);if(!s.success)throw new en([r(i,s.error)]);return s.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qn({...this._def,args:Wn.create(e).rest(Zn.create())})}returns(e){return new Qn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Qn({args:e||Wn.create([]).rest(Zn.create()),returns:t||Zn.create(),typeName:br.ZodFunction,...yn(n)})}}class er extends vn{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}er.create=(e,t)=>new er({getter:e,typeName:br.ZodLazy,...yn(t)});class tr extends vn{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return an(t,{received:t.data,code:Qt.invalid_literal,expected:this._def.value}),ln}return{status:"valid",value:e.data}}get value(){return this._def.value}}function nr(e,t){return new rr({values:e,typeName:br.ZodEnum,...yn(t)})}tr.create=(e,t)=>new tr({value:e,typeName:br.ZodLiteral,...yn(t)});class rr extends vn{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return an(t,{expected:Wt.joinValues(n),received:t.parsedType,code:Qt.invalid_type}),ln}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return an(t,{received:t.data,code:Qt.invalid_enum_value,options:n}),ln}return dn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return rr.create(e)}exclude(e){return rr.create(this.options.filter((t=>!e.includes(t))))}}rr.create=nr;class or extends vn{_parse(e){const t=Wt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Jt.string&&n.parsedType!==Jt.number){const e=Wt.objectValues(t);return an(n,{expected:Wt.joinValues(e),received:n.parsedType,code:Qt.invalid_type}),ln}if(-1===t.indexOf(e.data)){const e=Wt.objectValues(t);return an(n,{received:n.data,code:Qt.invalid_enum_value,options:e}),ln}return dn(e.data)}get enum(){return this._def.values}}or.create=(e,t)=>new or({values:e,typeName:br.ZodNativeEnum,...yn(t)});class ar extends vn{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Jt.promise&&!1===t.common.async)return an(t,{code:Qt.invalid_type,expected:Jt.promise,received:t.parsedType}),ln;const n=t.parsedType===Jt.promise?t.data:Promise.resolve(t.data);return dn(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}ar.create=(e,t)=>new ar({type:e,typeName:br.ZodPromise,...yn(t)});class ir extends vn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===br.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if("preprocess"===r.type){const e=r.transform(n.data);return n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}const o={addIssue:e=>{an(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?ln:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?ln:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hn(e))return e;const a=r.transform(e.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>hn(e)?Promise.resolve(r.transform(e.value,o)).then((e=>({status:t.value,value:e}))):e))}Wt.assertNever(r)}}ir.create=(e,t,n)=>new ir({schema:e,typeName:br.ZodEffects,effect:t,...yn(n)}),ir.createWithPreprocess=(e,t,n)=>new ir({schema:t,effect:{type:"preprocess",transform:e},typeName:br.ZodEffects,...yn(n)});class sr extends vn{_parse(e){return this._getType(e)===Jt.undefined?dn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sr.create=(e,t)=>new sr({innerType:e,typeName:br.ZodOptional,...yn(t)});class lr extends vn{_parse(e){return this._getType(e)===Jt.null?dn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lr.create=(e,t)=>new lr({innerType:e,typeName:br.ZodNullable,...yn(t)});class cr extends vn{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Jt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}cr.create=(e,t)=>new cr({innerType:e,typeName:br.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...yn(t)});class dr extends vn{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return gn(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new en(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new en(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}dr.create=(e,t)=>new dr({innerType:e,typeName:br.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...yn(t)});class ur extends vn{_parse(e){if(this._getType(e)!==Jt.nan){const t=this._getOrReturnCtx(e);return an(t,{code:Qt.invalid_type,expected:Jt.nan,received:t.parsedType}),ln}return{status:"valid",value:e.data}}}ur.create=e=>new ur({typeName:br.ZodNaN,...yn(e)});const pr=Symbol("zod_brand");class hr extends vn{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class gr extends vn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ln:"dirty"===e.status?(t.dirty(),cn(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ln:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new gr({in:e,out:t,typeName:br.ZodPipeline})}}const fr=(e,t={},n)=>e?Rn.create().superRefine(((r,o)=>{var a,i;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,s=null===(i=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===i||i,l="string"==typeof e?{message:e}:e;o.addIssue({code:"custom",...l,fatal:s})}})):Rn.create(),mr={object:Vn.lazycreate};var br;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(br||(br={}));const yr=Tn.create,vr=Pn.create,wr=ur.create,_r=An.create,xr=On.create,kr=jn.create,Cr=Nn.create,Sr=Mn.create,Ir=Ln.create,$r=Rn.create,Tr=Zn.create,Er=Bn.create,Pr=zn.create,Ar=Un.create,Or=Vn.create,jr=Vn.strictCreate,Nr=Fn.create,Mr=Gn.create,Lr=qn.create,Rr=Wn.create,Zr=Yn.create,Br=Jn.create,zr=Xn.create,Ur=Qn.create,Dr=er.create,Vr=tr.create,Fr=rr.create,Hr=or.create,Gr=ar.create,Kr=ir.create,qr=sr.create,Wr=lr.create,Yr=ir.createWithPreprocess,Jr=gr.create,Xr={string:e=>Tn.create({...e,coerce:!0}),number:e=>Pn.create({...e,coerce:!0}),boolean:e=>On.create({...e,coerce:!0}),bigint:e=>An.create({...e,coerce:!0}),date:e=>jn.create({...e,coerce:!0})},Qr=ln;var eo=Object.freeze({__proto__:null,defaultErrorMap:tn,setErrorMap:function(e){nn=e},getErrorMap:rn,makeIssue:on,EMPTY_PATH:[],addIssueToContext:an,ParseStatus:sn,INVALID:ln,DIRTY:cn,OK:dn,isAborted:un,isDirty:pn,isValid:hn,isAsync:gn,get util(){return Wt},get objectUtil(){return Yt},ZodParsedType:Jt,getParsedType:Xt,ZodType:vn,ZodString:Tn,ZodNumber:Pn,ZodBigInt:An,ZodBoolean:On,ZodDate:jn,ZodSymbol:Nn,ZodUndefined:Mn,ZodNull:Ln,ZodAny:Rn,ZodUnknown:Zn,ZodNever:Bn,ZodVoid:zn,ZodArray:Un,ZodObject:Vn,ZodUnion:Fn,ZodDiscriminatedUnion:Gn,ZodIntersection:qn,ZodTuple:Wn,ZodRecord:Yn,ZodMap:Jn,ZodSet:Xn,ZodFunction:Qn,ZodLazy:er,ZodLiteral:tr,ZodEnum:rr,ZodNativeEnum:or,ZodPromise:ar,ZodEffects:ir,ZodTransformer:ir,ZodOptional:sr,ZodNullable:lr,ZodDefault:cr,ZodCatch:dr,ZodNaN:ur,BRAND:pr,ZodBranded:hr,ZodPipeline:gr,custom:fr,Schema:vn,ZodSchema:vn,late:mr,get ZodFirstPartyTypeKind(){return br},coerce:Xr,any:$r,array:Ar,bigint:_r,boolean:xr,date:kr,discriminatedUnion:Mr,effect:Kr,enum:Fr,function:Ur,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>fr((t=>t instanceof e),t),intersection:Lr,lazy:Dr,literal:Vr,map:Br,nan:wr,nativeEnum:Hr,never:Er,null:Ir,nullable:Wr,number:vr,object:Or,oboolean:()=>xr().optional(),onumber:()=>vr().optional(),optional:qr,ostring:()=>yr().optional(),pipeline:Jr,preprocess:Yr,promise:Gr,record:Zr,set:zr,strictObject:jr,string:yr,symbol:Cr,transformer:Kr,tuple:Rr,undefined:Sr,union:Nr,unknown:Tr,void:Pr,NEVER:Qr,ZodIssueCode:Qt,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:en});const to=eo.object({id:eo.string(),groupId:eo.string(),outgoingEdgeId:eo.string().optional()}),no=eo.object({variableId:eo.string().optional()}),ro=eo.object({id:eo.string(),createdAt:eo.date(),workspaceId:eo.string(),name:eo.string(),iv:eo.string()});let oo=function(e){return e[e.BUTTON=0]="BUTTON",e[e.CONDITION=1]="CONDITION",e[e.AB_TEST=2]="AB_TEST",e[e.PICTURE_CHOICE=3]="PICTURE_CHOICE",e}({});const ao=eo.object({id:eo.string(),blockId:eo.string().optional().describe("Deprecated"),outgoingEdgeId:eo.string().optional()});let io=function(e){return e.OR="OR",e.AND="AND",e}({}),so=function(e){return e.EQUAL="Equal to",e.NOT_EQUAL="Not equal",e.CONTAINS="Contains",e.NOT_CONTAINS="Does not contain",e.GREATER="Greater than",e.LESS="Less than",e.IS_SET="Is set",e.IS_EMPTY="Is empty",e.STARTS_WITH="Starts with",e.ENDS_WITH="Ends with",e.MATCHES_REGEX="Matches regex",e.NOT_MATCH_REGEX="Does not match regex",e}({});const lo=eo.object({id:eo.string(),variableId:eo.string().optional(),comparisonOperator:eo.nativeEnum(so).optional(),value:eo.string().optional()}),co=eo.object({logicalOperator:eo.nativeEnum(io),comparisons:eo.array(lo)}),uo=ao.merge(eo.object({type:eo.literal(oo.CONDITION),content:co}));to.merge(eo.object({type:eo.enum([je.CONDITION]),items:eo.array(uo)})),io.AND;const po=eo.object({link:eo.string()}),ho=eo.object({type:eo.literal("image"),image:po}).or(eo.object({type:eo.literal("video"),video:po})).or(eo.object({type:eo.literal("text"),text:eo.string()})),go=eo.object({text:eo.string()}),fo=eo.object({buttons:eo.array(eo.object({type:eo.literal("reply"),reply:eo.object({id:eo.string(),title:eo.string()})}))}),mo=eo.object({name:eo.literal("preview_initial_message"),language:eo.object({code:eo.literal("en")})}),bo=eo.object({type:eo.literal("button"),header:ho.optional(),body:go.optional(),action:fo});eo.discriminatedUnion("type",[eo.object({type:eo.literal("text"),text:eo.object({body:eo.string(),preview_url:eo.boolean().optional()}),preview_url:eo.boolean().optional()}),eo.object({type:eo.literal("image"),image:po}),eo.object({type:eo.literal("audio"),audio:po}),eo.object({type:eo.literal("video"),video:po}),eo.object({type:eo.literal("interactive"),interactive:bo}),eo.object({type:eo.literal("template"),template:mo})]);const yo=eo.discriminatedUnion("type",[eo.object({from:eo.string(),type:eo.literal("text"),text:eo.object({body:eo.string()}),timestamp:eo.string()}),eo.object({from:eo.string(),type:eo.literal("button"),button:eo.object({text:eo.string(),payload:eo.string()}),timestamp:eo.string()}),eo.object({from:eo.string(),type:eo.literal("interactive"),interactive:eo.object({button_reply:eo.object({id:eo.string(),title:eo.string()})}),timestamp:eo.string()}),eo.object({from:eo.string(),type:eo.literal("image"),image:eo.object({id:eo.string()}),timestamp:eo.string()}),eo.object({from:eo.string(),type:eo.literal("video"),video:eo.object({id:eo.string()}),timestamp:eo.string()}),eo.object({from:eo.string(),type:eo.literal("audio"),audio:eo.object({id:eo.string()}),timestamp:eo.string()}),eo.object({from:eo.string(),type:eo.literal("document"),document:eo.object({id:eo.string()}),timestamp:eo.string()})]);eo.object({entry:eo.array(eo.object({changes:eo.array(eo.object({value:eo.object({contacts:eo.array(eo.object({profile:eo.object({name:eo.string()})})).optional(),metadata:eo.object({display_phone_number:eo.string()}),messages:eo.array(yo).optional()})}))}))}),eo.object({type:eo.literal("whatsApp"),data:eo.object({systemUserAccessToken:eo.string(),phoneNumberId:eo.string()})}).merge(ro),eo.object({id:eo.string(),comparisonOperator:eo.nativeEnum(so).optional(),value:eo.string().optional()});const vo=eo.object({logicalOperator:eo.nativeEnum(io),comparisons:eo.array(eo.object({id:eo.string(),comparisonOperator:eo.nativeEnum(so).optional(),value:eo.string().optional()}))}),wo=eo.object({credentialsId:eo.string().optional(),startCondition:vo.optional()}),_o=eo.object({isBrandingEnabled:eo.boolean(),isTypingEmulationEnabled:eo.boolean().optional(),isInputPrefillEnabled:eo.boolean().optional(),isHideQueryParamsEnabled:eo.boolean().optional(),isNewResultOnRefreshEnabled:eo.boolean().optional(),rememberUser:eo.object({isEnabled:eo.boolean().optional(),storage:eo.enum(["session","local"]).optional()}).optional()}),xo=eo.object({enabled:eo.boolean(),speed:eo.number(),maxDelay:eo.number()}),ko=eo.object({title:eo.string().optional(),description:eo.string().optional(),imageUrl:eo.string().optional(),favIconUrl:eo.string().optional(),customHeadCode:eo.string().optional(),googleTagManagerId:eo.string().optional()});eo.object({general:_o,typingEmulation:xo,metadata:ko,whatsApp:wo.optional()});const Co=({isBrandingEnabled:e})=>({general:{isBrandingEnabled:e,rememberUser:{isEnabled:!1},isInputPrefillEnabled:!0,isHideQueryParamsEnabled:!0},typingEmulation:{enabled:!0,speed:300,maxDelay:1.5},metadata:{description:"Build beautiful conversational forms and embed them directly in your applications without a line of code. Triple your response rate and collect answers that has more value compared to a traditional form."}}),So=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing " data-testid="host-bubble"></div><div>');let Io;const $o=e=>{let t;const[n,r]=x(!0),o=()=>{n()&&(r(!1),setTimeout((()=>{e.onTransitionEnd(t?.offsetTop)}),400))};return $((()=>{if(!n)return;const t=qt(e.content.richText),r=!1===e.typingEmulation?.enabled?0:(({bubbleContent:e,typingSettings:t=Co({isBrandingEnabled:!1}).typingEmulation})=>{let n=e.match(/(\w+)/g)?.length??0;0===n&&(n=e.length);const r=t.speed;let o=t.enabled?n/r*6e4:0;return o>1e3*t.maxDelay&&(o=1e3*t.maxDelay),o})({bubbleContent:t,typingSettings:e.typingEmulation});Io=setTimeout(o,r)})),T((()=>{Io&&clearTimeout(Io)})),(()=>{const r=So(),o=r.firstChild.firstChild.firstChild,a=o.nextSibling;return"function"==typeof t?me(t,r):t=r,be(o,(()=>{const e=S((()=>!!n()));return()=>e()&&H(It,{})})()),be(a,H(ee,{get each(){return e.content.richText},children:e=>H(Kt,{element:e})})),k((e=>{const t=n()?"64px":"100%",r=n()?"32px":"100%",i=Ve("overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative text-ellipsis",n()?"opacity-0":"opacity-100"),s=n()?mt()?"16px":"20px":"100%";return t!==e._v$&&(null!=(e._v$=t)?o.style.setProperty("width",t):o.style.removeProperty("width")),r!==e._v$2&&(null!=(e._v$2=r)?o.style.setProperty("height",r):o.style.removeProperty("height")),i!==e._v$3&&ge(a,e._v$3=i),s!==e._v$4&&(null!=(e._v$4=s)?a.style.setProperty("height",s):a.style.removeProperty("height")),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()};let To=function(e){return e.URL="url",e.YOUTUBE="youtube",e.VIMEO="vimeo",e}({});const Eo=ue("<video autoplay controls>"),Po=ue('<div><iframe class="w-full h-full" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>'),Ao=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble overflow-hidden"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">');let Oo;const jo=e=>{let t;const[n,r]=x(!0);return $((()=>{const o=e.content?.type&&[To.VIMEO,To.YOUTUBE].includes(e.content?.type)?2e3:100;Oo=setTimeout((()=>{n()&&(r(!1),setTimeout((()=>{e.onTransitionEnd(t?.offsetTop)}),400))}),o)})),T((()=>{Oo&&clearTimeout(Oo)})),(()=>{const r=Ao(),o=r.firstChild.firstChild,a=o.firstChild;return"function"==typeof t?me(t,r):t=r,be(a,(()=>{const e=S((()=>!!n()));return()=>e()&&H(It,{})})()),be(o,H(ne,{get children(){return[H(re,{get when(){return e.content?.type&&e.content.type===To.URL},get children(){const t=Eo();return k((r=>{const o=e.content.url,a="p-4 focus:outline-none w-full z-10 text-fade-in rounded-md "+(n()?"opacity-0":"opacity-100"),i=n()?mt()?"32px":"36px":"auto";return o!==r._v$&&he(t,"src",r._v$=o),a!==r._v$2&&ge(t,r._v$2=a),i!==r._v$3&&(null!=(r._v$3=i)?t.style.setProperty("height",i):t.style.removeProperty("height")),r}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t}}),H(re,{get when(){return S((()=>!!e.content?.type))()&&[To.VIMEO,To.YOUTUBE].includes(e.content.type)},get children(){const t=Po(),r=t.firstChild;return k((o=>{const a=Ve("p-4 z-10 text-fade-in w-full",n()?"opacity-0":"opacity-100 p-4"),i=n()?mt()?"32px":"36px":"200px",s=`${e.content.type===To.VIMEO?"https://player.vimeo.com/video":"https://www.youtube.com/embed"}/${e.content.id}`;return a!==o._v$4&&ge(t,o._v$4=a),i!==o._v$5&&(null!=(o._v$5=i)?t.style.setProperty("height",i):t.style.removeProperty("height")),s!==o._v$6&&he(r,"src",o._v$6=s),o}),{_v$4:void 0,_v$5:void 0,_v$6:void 0}),t}})]}}),null),k((e=>{const t=n()?"64px":"100%",r=n()?"32px":"100%";return t!==e._v$7&&(null!=(e._v$7=t)?a.style.setProperty("width",t):a.style.removeProperty("width")),r!==e._v$8&&(null!=(e._v$8=r)?a.style.setProperty("height",r):a.style.removeProperty("height")),e}),{_v$7:void 0,_v$8:void 0}),r})()},No=e=>{const t=t=>{e.onTransitionEnd(t)};return H(ne,{get children(){return[H(re,{get when(){return e.message.type===Oe.TEXT},get children(){return H($o,{get content(){return e.message.content},get typingEmulation(){return e.typingEmulation},onTransitionEnd:t})}}),H(re,{get when(){return e.message.type===Oe.IMAGE},get children(){return H(Dt,{get content(){return e.message.content},onTransitionEnd:t})}}),H(re,{get when(){return e.message.type===Oe.VIDEO},get children(){return H(jo,{get content(){return e.message.content},onTransitionEnd:t})}}),H(re,{get when(){return e.message.type===Oe.EMBED},get children(){return H(Lt,{get content(){return e.message.content},onTransitionEnd:t})}}),H(re,{get when(){return e.message.type===Oe.AUDIO},get children(){return H(jt,{get content(){return e.message.content},onTransitionEnd:t})}})]}})},Mo=ue('<figure data-testid="default-avatar"><svg width="75" height="75" viewBox="0 0 75 75" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0" x="0" y="0" mask-type="alpha"><circle cx="37.5" cy="37.5" r="37.5" fill="#0042DA"></circle></mask><g mask="url(#mask0)"><rect x="-30" y="-43" width="131" height="154" fill="#0042DA"></rect><rect x="2.50413" y="120.333" width="81.5597" height="86.4577" rx="2.5" transform="rotate(-52.6423 2.50413 120.333)" stroke="#FED23D" stroke-width="5"></rect><circle cx="76.5" cy="-1.5" r="29" stroke="#FF8E20" stroke-width="5"></circle><path d="M-49.8224 22L-15.5 -40.7879L18.8224 22H-49.8224Z" stroke="#F7F8FF" stroke-width="5">'),Lo=()=>(()=>{const e=Mo(),t=e.firstChild;return k((n=>{const r="flex justify-center items-center rounded-full text-white relative "+(mt()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),o="absolute top-0 left-0 "+(mt()?" w-6 h-6 text-sm":"w-full h-full text-xl");return r!==n._v$&&ge(e,n._v$=r),o!==n._v$2&&he(t,"class",n._v$2=o),n}),{_v$:void 0,_v$2:void 0}),e})(),Ro=ue('<figure><img alt="Bot avatar" class="rounded-full object-cover w-full h-full" elementtiming="Bot avatar" fetchpriority="high">'),Zo=e=>{const[t,n]=x(e.initialAvatarSrc);return C((()=>{t()?.startsWith("{{")&&e.initialAvatarSrc?.startsWith("http")&&n(e.initialAvatarSrc)})),H(te,{get when(){return Ze(t())},keyed:!0,get fallback(){return H(Lo,{})},get children(){const e=Ro(),n=e.firstChild;return k((r=>{const o="flex justify-center items-center rounded-full text-white relative animate-fade-in flex-shrink-0 "+(mt()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),a=t();return o!==r._v$&&ge(e,r._v$=o),a!==r._v$2&&he(n,"src",r._v$2=a),r}),{_v$:void 0,_v$2:void 0}),e}})},Bo=ue('<div class="flex justify-end items-end animate-fade-in gap-2 guest-container"><span class="px-4 py-2 whitespace-pre-wrap max-w-full typebot-guest-bubble" data-testid="guest-bubble">'),zo=e=>(()=>{const t=Bo(),n=t.firstChild;return t.style.setProperty("margin-left","50px"),be(n,(()=>e.message)),be(t,H(te,{get when(){return e.showAvatar},get children(){return H(Zo,{get initialAvatarSrc(){return e.avatarSrc}})}}),null),t})(),Uo=ue('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">'),Do=e=>{const[t,n]=x(e.defaultValue??"");let r;const o=e=>n(e),a=()=>{""!==t()&&r?.reportValidity()&&e.onSubmit({value:t()})},i=t=>{e.block.options.isLong||"Enter"===t.key&&a()},s=t=>{e.block.options.isLong&&"Enter"===t.key&&(t.metaKey||t.ctrlKey)&&a()};$((()=>{!mt()&&r&&r.focus(),window.addEventListener("message",l)})),T((()=>{window.removeEventListener("message",l)}));const l=e=>{const{data:t}=e;t.isFromTypebot&&"setInputValue"===t.command&&n(t.value)};return(()=>{const n=Uo();return n.$$keydown=i,be(n,(()=>{const n=S((()=>!!e.block.options.isLong));return()=>n()?H(Pt,{ref(e){"function"==typeof r?r(e):r=e},onInput:o,onKeyDown:s,get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your answer..."}}):H(Tt,{ref(e){"function"==typeof r?r(e):r=e},onInput:o,get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your answer..."}})})(),null),be(n,H(Ct,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":a,get children(){return e.block.options?.labels?.button??"Send"}}),null),k((()=>null!=(e.block.options.isLong?void 0:"350px")?n.style.setProperty("max-width",e.block.options.isLong?void 0:"350px"):n.style.removeProperty("max-width"))),n})()};pe(["keydown"]);const Vo=ue('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">'),Fo=e=>{const[t,n]=x(e.defaultValue??"");let r;const o=e=>n(e),a=()=>{""!==t()&&r?.reportValidity()&&e.onSubmit({value:t()})},i=e=>{"Enter"===e.key&&a()};$((()=>{!mt()&&r&&r.focus(),window.addEventListener("message",s)})),T((()=>{window.removeEventListener("message",s)}));const s=e=>{const{data:t}=e;t.isFromTypebot&&"setInputValue"===t.command&&n(t.value)};return(()=>{const n=Vo();return n.$$keydown=i,n.style.setProperty("max-width","350px"),be(n,H(Tt,{ref(e){"function"==typeof r?r(e):r=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your answer..."},onInput:o,type:"number",style:{appearance:"auto"},get min(){return e.block.options?.min},get max(){return e.block.options?.max},get step(){return e.block.options?.step??"any"}}),null),be(n,H(Ct,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":a,get children(){return e.block.options?.labels?.button??"Send"}}),null),n})()};pe(["keydown"]);const Ho=ue('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">'),Go=e=>{const[t,n]=x(e.defaultValue??"");let r;const o=e=>n(e),a=()=>{""!==t()&&r?.reportValidity()&&e.onSubmit({value:t()})},i=e=>{"Enter"===e.key&&a()};$((()=>{!mt()&&r&&r.focus(),window.addEventListener("message",s)})),T((()=>{window.removeEventListener("message",s)}));const s=e=>{const{data:t}=e;t.isFromTypebot&&"setInputValue"===t.command&&n(t.value)};return(()=>{const n=Ho();return n.$$keydown=i,n.style.setProperty("max-width","350px"),be(n,H(Tt,{ref(e){"function"==typeof r?r(e):r=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your email..."},onInput:o,type:"email",autocomplete:"email"}),null),be(n,H(Ct,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":a,get children(){return e.block.options?.labels?.button??"Send"}}),null),n})()};pe(["keydown"]);const Ko=ue('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">'),qo=e=>{const[t,n]=x(e.defaultValue??"");let r;const o=e=>{if(!e.startsWith("https://"))return"https:/"===e?void 0:n(`https://${e}`);n(e)},a=()=>{""!==t()&&r?.reportValidity()&&e.onSubmit({value:t()})},i=e=>{"Enter"===e.key&&a()};$((()=>{!mt()&&r&&r.focus(),window.addEventListener("message",s)})),T((()=>{window.removeEventListener("message",s)}));const s=e=>{const{data:t}=e;t.isFromTypebot&&"setInputValue"===t.command&&n(t.value)};return(()=>{const n=Ko();return n.$$keydown=i,n.style.setProperty("max-width","350px"),be(n,H(Tt,{ref(e){"function"==typeof r?r(e):r=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your URL..."},onInput:o,type:"url",autocomplete:"url"}),null),be(n,H(Ct,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":a,get children(){return e.block.options?.labels?.button??"Send"}}),null),n})()};pe(["keydown"]);const Wo=ue('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2px" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9">'),Yo=e=>(()=>{const t=Wo();return fe(t,e,!0,!0),t})(),Jo=[{name:"International",flag:"🌐",code:"INT",dial_code:null},{name:"Afghanistan",flag:"🇦🇫",code:"AF",dial_code:"+93"},{name:"Åland Islands",flag:"🇦🇽",code:"AX",dial_code:"+358"},{name:"Albania",flag:"🇦🇱",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"🇩🇿",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"🇦🇸",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"🇦🇩",code:"AD",dial_code:"+376"},{name:"Angola",flag:"🇦🇴",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"🇦🇮",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"🇦🇶",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"🇦🇬",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"🇦🇷",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"🇦🇲",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"🇦🇼",code:"AW",dial_code:"+297"},{name:"Australia",flag:"🇦🇺",code:"AU",dial_code:"+61"},{name:"Austria",flag:"🇦🇹",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"🇦🇿",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"🇧🇸",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"🇧🇭",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"🇧🇩",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"🇧🇧",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"🇧🇾",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"🇧🇪",code:"BE",dial_code:"+32"},{name:"Belize",flag:"🇧🇿",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"🇧🇯",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"🇧🇲",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"🇧🇹",code:"BT",dial_code:"+975"},{name:"Bolivia, Plurinational State of bolivia",flag:"🇧🇴",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"🇧🇦",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"🇧🇼",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"🇧🇻",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"🇧🇷",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"🇮🇴",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"🇧🇳",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"🇧🇬",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"🇧🇫",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"🇧🇮",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"🇰🇭",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"🇨🇲",code:"CM",dial_code:"+237"},{name:"Canada",flag:"🇨🇦",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"🇨🇻",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"🇰🇾",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"🇨🇫",code:"CF",dial_code:"+236"},{name:"Chad",flag:"🇹🇩",code:"TD",dial_code:"+235"},{name:"Chile",flag:"🇨🇱",code:"CL",dial_code:"+56"},{name:"China",flag:"🇨🇳",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"🇨🇽",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"🇨🇨",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"🇨🇴",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"🇰🇲",code:"KM",dial_code:"+269"},{name:"Congo",flag:"🇨🇬",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the Congo",flag:"🇨🇩",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"🇨🇰",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"🇨🇷",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"🇨🇮",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"🇭🇷",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"🇨🇺",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"🇨🇾",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"🇨🇿",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"🇩🇰",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"🇩🇯",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"🇩🇲",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"🇩🇴",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"🇪🇨",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"🇪🇬",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"🇸🇻",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"🇬🇶",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"🇪🇷",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"🇪🇪",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"🇪🇹",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"🇫🇰",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"🇫🇴",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"🇫🇯",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"🇫🇮",code:"FI",dial_code:"+358"},{name:"France",flag:"🇫🇷",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"🇬🇫",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"🇵🇫",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"🇹🇫",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"🇬🇦",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"🇬🇲",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"🇬🇪",code:"GE",dial_code:"+995"},{name:"Germany",flag:"🇩🇪",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"🇬🇭",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"🇬🇮",code:"GI",dial_code:"+350"},{name:"Greece",flag:"🇬🇷",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"🇬🇱",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"🇬🇩",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"🇬🇵",code:"GP",dial_code:"+590"},{name:"Guam",flag:"🇬🇺",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"🇬🇹",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"🇬🇬",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"🇬🇳",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"🇬🇼",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"🇬🇾",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"🇭🇹",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"🇭🇲",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"🇻🇦",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"🇭🇳",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"🇭🇰",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"🇭🇺",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"🇮🇸",code:"IS",dial_code:"+354"},{name:"India",flag:"🇮🇳",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"🇮🇩",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of Persian Gulf",flag:"🇮🇷",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"🇮🇶",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"🇮🇪",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"🇮🇲",code:"IM",dial_code:"+44"},{name:"Israel",flag:"🇮🇱",code:"IL",dial_code:"+972"},{name:"Italy",flag:"🇮🇹",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"🇯🇲",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"🇯🇵",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"🇯🇪",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"🇯🇴",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"🇰🇿",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"🇰🇪",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"🇰🇮",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of Korea",flag:"🇰🇵",code:"KP",dial_code:"+850"},{name:"Korea, Republic of South Korea",flag:"🇰🇷",code:"KR",dial_code:"+82"},{name:"Kosovo",flag:"🇽🇰",code:"XK",dial_code:"+383"},{name:"Kuwait",flag:"🇰🇼",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"🇰🇬",code:"KG",dial_code:"+996"},{name:"Laos",flag:"🇱🇦",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"🇱🇻",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"🇱🇧",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"🇱🇸",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"🇱🇷",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"🇱🇾",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"🇱🇮",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"🇱🇹",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"🇱🇺",code:"LU",dial_code:"+352"},{name:"Macao",flag:"🇲🇴",code:"MO",dial_code:"+853"},{name:"Macedonia",flag:"🇲🇰",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"🇲🇬",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"🇲🇼",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"🇲🇾",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"🇲🇻",code:"MV",dial_code:"+960"},{name:"Mali",flag:"🇲🇱",code:"ML",dial_code:"+223"},{name:"Malta",flag:"🇲🇹",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"🇲🇭",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"🇲🇶",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"🇲🇷",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"🇲🇺",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"🇾🇹",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"🇲🇽",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of Micronesia",flag:"🇫🇲",code:"FM",dial_code:"+691"},{name:"Moldova",flag:"🇲🇩",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"🇲🇨",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"🇲🇳",code:"MN",dial_code:"+976"},{name:"Montenegro",flag:"🇲🇪",code:"ME",dial_code:"+382"},{name:"Montserrat",flag:"🇲🇸",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"🇲🇦",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"🇲🇿",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"🇲🇲",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"🇳🇦",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"🇳🇷",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"🇳🇵",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"🇳🇱",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"🇳🇨",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"🇳🇿",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"🇳🇮",code:"NI",dial_code:"+505"},{name:"Niger",flag:"🇳🇪",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"🇳🇬",code:"NG",dial_code:"+234"},{name:"Niue",flag:"🇳🇺",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"🇳🇫",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"🇲🇵",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"🇳🇴",code:"NO",dial_code:"+47"},{name:"Oman",flag:"🇴🇲",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"🇵🇰",code:"PK",dial_code:"+92"},{name:"Palau",flag:"🇵🇼",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"🇵🇸",code:"PS",dial_code:"+970"},{name:"Panama",flag:"🇵🇦",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"🇵🇬",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"🇵🇾",code:"PY",dial_code:"+595"},{name:"Peru",flag:"🇵🇪",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"🇵🇭",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"🇵🇳",code:"PN",dial_code:"+64"},{name:"Poland",flag:"🇵🇱",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"🇵🇹",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"🇵🇷",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"🇶🇦",code:"QA",dial_code:"+974"},{name:"Romania",flag:"🇷🇴",code:"RO",dial_code:"+40"},{name:"Russia",flag:"🇷🇺",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"🇷🇼",code:"RW",dial_code:"+250"},{name:"Reunion",flag:"🇷🇪",code:"RE",dial_code:"+262"},{name:"Saint Barthelemy",flag:"🇧🇱",code:"BL",dial_code:"+590"},{name:"Saint Helena, Ascension and Tristan Da Cunha",flag:"🇸🇭",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"🇰🇳",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"🇱🇨",code:"LC",dial_code:"+1758"},{name:"Saint Martin",flag:"🇲🇫",code:"MF",dial_code:"+590"},{name:"Saint Pierre and Miquelon",flag:"🇵🇲",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"🇻🇨",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"🇼🇸",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"🇸🇲",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"🇸🇹",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"🇸🇦",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"🇸🇳",code:"SN",dial_code:"+221"},{name:"Serbia",flag:"🇷🇸",code:"RS",dial_code:"+381"},{name:"Seychelles",flag:"🇸🇨",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"🇸🇱",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"🇸🇬",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"🇸🇰",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"🇸🇮",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"🇸🇧",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"🇸🇴",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"🇿🇦",code:"ZA",dial_code:"+27"},{name:"South Sudan",flag:"🇸🇸",code:"SS",dial_code:"+211"},{name:"South Georgia and the South Sandwich Islands",flag:"🇬🇸",code:"GS",dial_code:"+500"},{name:"Spain",flag:"🇪🇸",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"🇱🇰",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"🇸🇩",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"🇸🇷",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"🇸🇯",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"🇸🇿",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"🇸🇪",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"🇨🇭",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"🇸🇾",code:"SY",dial_code:"+963"},{name:"Taiwan",flag:"🇹🇼",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"🇹🇯",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of Tanzania",flag:"🇹🇿",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"🇹🇭",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"🇹🇱",code:"TL",dial_code:"+670"},{name:"Togo",flag:"🇹🇬",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"🇹🇰",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"🇹🇴",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"🇹🇹",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"🇹🇳",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"🇹🇷",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"🇹🇲",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"🇹🇨",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"🇹🇻",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"🇺🇬",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"🇺🇦",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"🇦🇪",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"🇬🇧",code:"GB",dial_code:"+44"},{name:"United States",flag:"🇺🇸",code:"US",dial_code:"+1"},{name:"Uruguay",flag:"🇺🇾",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"🇺🇿",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"🇻🇺",code:"VU",dial_code:"+678"},{name:"Venezuela, Bolivarian Republic of Venezuela",flag:"🇻🇪",code:"VE",dial_code:"+58"},{name:"Vietnam",flag:"🇻🇳",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"🇻🇬",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"🇻🇮",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"🇼🇫",code:"WF",dial_code:"+681"},{name:"Yemen",flag:"🇾🇪",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"🇿🇲",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"🇿🇼",code:"ZW",dial_code:"+263"}],Xo=ue('<div class="flex items-end justify-between pr-2 typebot-input" data-testid="input"><div class="flex"><div class="relative typebot-country-select flex justify-center items-center"><div class="pl-2 pr-1 flex items-center gap-2"><span></span></div><select class="absolute top-0 left-0 w-full h-full cursor-pointer opacity-0">'),Qo=ue("<option> "),ea=e=>{const[t,n]=x(Re(e.defaultCountryCode)?"INT":e.defaultCountryCode),[r,o]=x(e.defaultValue??"");let a;const i=e=>{o(e),""!==e&&"+"!==e||"INT"===t()||n("INT");const r=e?.startsWith("+")&&e.length>2&&Jo.reduce(((t,n)=>!n?.dial_code||null!==t&&!t.dial_code?t:e?.startsWith(n.dial_code)&&n.dial_code.length>(t?.dial_code.length??0)?n:t),null);r&&n(r.code)},s=()=>{const n=Jo.find((e=>e.code===t()))?.dial_code;""!==r()&&a?.reportValidity()&&e.onSubmit({value:r().startsWith("+")?r():`${n??""}${r()}`})},l=e=>{"Enter"===e.key&&s()},c=e=>{const t=e.currentTarget.value;n(t);const i=Jo.find((e=>e.code===t))?.dial_code;""===r()&&i&&o(i),a?.focus()};$((()=>{!mt()&&a&&a.focus(),window.addEventListener("message",d)})),T((()=>{window.removeEventListener("message",d)}));const d=e=>{const{data:t}=e;t.isFromTypebot&&"setInputValue"===t.command&&o(t.value)};return(()=>{const n=Xo(),o=n.firstChild,d=o.firstChild.firstChild,u=d.firstChild,p=d.nextSibling;return n.$$keydown=l,n.style.setProperty("max-width","400px"),be(u,(()=>Jo.find((e=>t()===e.code))?.flag)),be(d,H(Yo,{class:"w-3"}),null),p.addEventListener("change",c),be(p,H(ee,{each:Jo,children:e=>(()=>{const n=Qo(),r=n.firstChild;return be(n,(()=>e.name),r),be(n,(()=>e.dial_code?`(${e.dial_code})`:""),null),k((()=>n.selected=e.code===t())),k((()=>n.value=e.code)),n})()})),be(o,H(Tt,{type:"tel",ref(e){"function"==typeof a?a(e):a=e},get value(){return r()},onInput:i,get placeholder(){return e.labels.placeholder??"Your phone number..."},get autofocus(){return!mt()}}),null),be(n,H(Ct,{type:"button",get isDisabled(){return""===r()},class:"my-2 ml-2","on:click":s,get children(){return e.labels?.button??"Send"}}),null),n})()};pe(["keydown"]);const ta=ue('<div class="flex flex-col"><div class="flex items-center"><form class="flex justify-between typebot-input pr-2 items-end"><div class="flex flex-col"><div><input class="focus:outline-none flex-1 w-full text-input typebot-date-input" data-testid="from-date">'),na=ue('<p class="font-semibold">'),ra=ue('<div class="flex items-center p-4"><input class="focus:outline-none flex-1 w-full text-input ml-2 typebot-date-input" data-testid="to-date">'),oa=e=>{const[t,n]=x(aa(e.defaultValue??""));return(()=>{const r=ta(),o=r.firstChild.firstChild,a=o.firstChild,i=a.firstChild,s=i.firstChild;return o.addEventListener("submit",(n=>{""===t().from&&""===t().to||(n.preventDefault(),e.onSubmit({value:`${t().from}${e.options?.isRange?` to ${t().to}`:""}`}))})),be(i,(()=>{const t=S((()=>!!e.options?.isRange));return()=>t()&&(()=>{const t=na();return be(t,(()=>e.options.labels?.from??"From:")),t})()})(),s),s.addEventListener("change",(e=>n({...t(),from:e.currentTarget.value}))),s.style.setProperty("min-height","32px"),s.style.setProperty("min-width","100px"),s.style.setProperty("font-size","16px"),be(a,(()=>{const r=S((()=>!!e.options?.isRange));return()=>r()&&(()=>{const r=ra(),o=r.firstChild;return be(r,(()=>{const t=S((()=>!!e.options.isRange));return()=>t()&&(()=>{const t=na();return be(t,(()=>e.options.labels?.to??"To:")),t})()})(),o),o.addEventListener("change",(e=>n({...t(),to:e.currentTarget.value}))),o.style.setProperty("min-height","32px"),o.style.setProperty("min-width","100px"),o.style.setProperty("font-size","16px"),k((()=>he(o,"type",e.options.hasTime?"datetime-local":"date"))),k((()=>o.value=t().to)),r})()})(),null),be(o,H(Ct,{get isDisabled(){return S((()=>""===t().to))()&&""===t().from},class:"my-2 ml-2",get children(){return e.options?.labels?.button??"Send"}}),null),k((t=>{const n="flex items-center p-4 "+(e.options?.isRange?"pb-0 gap-2":""),r=e.options?.hasTime?"datetime-local":"date";return n!==t._v$&&ge(i,t._v$=n),r!==t._v$2&&he(s,"type",t._v$2=r),t}),{_v$:void 0,_v$2:void 0}),k((()=>s.value=t().from)),r})()},aa=e=>{if(!e.includes("to"))return{from:e,to:""};const[t,n]=e.split(" to ");return{from:t,to:n}},ia=ue('<form class="flex flex-col gap-2"><div class="flex flex-wrap justify-center gap-2"></div><div class="flex justify-end">'),sa=ue('<span class="text-sm w-full rating-label">'),la=ue('<span class="text-sm w-full text-right pr-2 rating-label">'),ca=ue("<div>"),da=e=>{const[t,n]=x(e.defaultValue?Number(e.defaultValue):void 0),r=n=>{n.preventDefault();const r=t();Le(r)||e.onSubmit({value:r.toString()})},o=t=>{e.block.options.isOneClickSubmitEnabled&&e.onSubmit({value:t.toString()}),n(t)};return(()=>{const n=ia(),a=n.firstChild,i=a.nextSibling;return n.addEventListener("submit",r),be(n,(()=>{const t=S((()=>!!e.block.options.labels.left));return()=>t()&&(()=>{const t=sa();return be(t,(()=>e.block.options.labels.left)),t})()})(),a),be(a,H(ee,{get each(){return Array.from(Array(e.block.options.length+("Numbers"===e.block.options.buttonType?1:0)))},children:(n,r)=>H(ua,Y((()=>e.block.options),{get rating(){return t()},get idx(){return r()+("Numbers"===e.block.options.buttonType?0:1)},onClick:o}))})),be(n,(()=>{const t=S((()=>!!e.block.options.labels.right));return()=>t()&&(()=>{const t=la();return be(t,(()=>e.block.options.labels.right)),t})()})(),i),be(i,(()=>{const n=S((()=>!!Me(t())));return()=>n()&&H(Ct,{disableIcon:!0,get children(){return e.block.options?.labels?.button??"Send"}})})()),n})()},ua=e=>{const t=t=>{t.preventDefault(),e.onClick(e.idx)};return H(ne,{get children(){return[H(re,{get when(){return"Numbers"===e.buttonType},get children(){return H(kt,{"on:click":t,get class(){return e.isOneClickSubmitEnabled||Me(e.rating)&&e.idx<=e.rating?"":"selectable"},get children(){return e.idx}})}}),H(re,{get when(){return"Numbers"!==e.buttonType},get children(){const t=ca();return t.addEventListener("click",(()=>e.onClick(e.idx))),k((n=>{const r="flex justify-center items-center rating-icon-container cursor-pointer "+(Me(e.rating)&&e.idx<=e.rating?"selected":""),o=e.customIcon.isEnabled&&!Re(e.customIcon.svg)?e.customIcon.svg:pa;return r!==n._v$&&ge(t,n._v$=r),o!==n._v$2&&(t.innerHTML=n._v$2=o),n}),{_v$:void 0,_v$2:void 0}),t}})]}})},pa='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>',ha=no.merge(eo.object({isRequired:eo.boolean().optional(),isMultipleAllowed:eo.boolean(),labels:eo.object({placeholder:eo.string(),button:eo.string(),clear:eo.string().optional(),skip:eo.string().optional()}),sizeLimit:eo.number().optional()}));to.merge(eo.object({type:eo.literal(Ae.FILE),options:ha}));const ga={placeholder:"<strong>\n      Click to upload\n    </strong> or drag and drop<br>\n    (size limit: 10MB)",button:"Upload",clear:"Clear",skip:"Skip"},fa=async({basePath:e="/api",files:t,onUploadProgress:n})=>{const r=[];let o=0;for(const{file:a,path:i}of t){n&&n(o/t.length*100),o+=1;const{data:s}=await Ne(`${e}/storage/upload-url?filePath=${encodeURIComponent(i)}&fileType=${a.type}`);if(!s?.presignedUrl)continue;const l=s.presignedUrl;if(s.hasReachedStorageLimit)r.push(null);else{if(!(await fetch(l,{method:"PUT",body:a})).ok)continue;r.push(l.split("?")[0])}}return r},ma=ue('<div class="w-full bg-gray-200 rounded-full h-2.5"><div class="upload-progress-bar h-2.5 rounded-full">'),ba=ue('<span class="relative"><div class="total-files-indicator flex items-center justify-center absolute -right-1 rounded-full px-1 w-4 h-4">'),ya=ue('<div class="flex flex-col justify-center items-center"><p class="text-sm text-gray-500 text-center">'),va=ue('<input id="dropzone-file" type="file" class="hidden">'),wa=ue('<div class="flex justify-end">'),_a=ue('<div class="flex justify-end"><div class="flex gap-2">'),xa=ue('<p class="text-red-500 text-sm">'),ka=ue('<form class="flex flex-col w-full gap-2"><label for="dropzone-file">'),Ca=ue('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-3 text-gray-500"><polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16">'),Sa=ue('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-3 text-gray-500"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9">'),Ia=e=>{const[t,n]=x([]),[r,o]=x(!1),[a,i]=x(0),[s,l]=x(!1),[c,d]=x(),u=r=>{d(void 0);const o=Array.from(r);return o.some((t=>t.size>1024*(e.block.options.sizeLimit??10)*1024))?d(`A file is larger than ${e.block.options.sizeLimit??10}MB`):!e.block.options.isMultipleAllowed&&r?h(o[0]):void n([...t(),...o])},p=async e=>{e.preventDefault(),0!==t().length&&g(t())},h=async t=>{if(e.context.isPreview)return e.onSubmit({label:"File uploaded",value:"http://fake-upload-url.com"});o(!0);const n=await fa({basePath:`${e.context.apiHost??ht()}/api/typebots/${e.context.typebot.id}/blocks/${e.block.id}`,files:[{file:t,path:`public/results/${e.context.resultId}/${e.block.id}/${t.name}`}]});if(o(!1),n.length)return e.onSubmit({label:"File uploaded",value:n[0]??""});d("An error occured while uploading the file")},g=async t=>{if(e.context.isPreview)return e.onSubmit({label:`${t.length} file${t.length>1?"s":""} uploaded`,value:t.map(((e,t)=>`http://fake-upload-url.com/${t}`)).join(", ")});o(!0);const n=await fa({basePath:`${e.context.apiHost??ht()}/api/typebots/${e.context.typebot.id}/blocks/${e.block.id}`,files:t.map((t=>({file:t,path:`public/results/${e.context.resultId}/${e.block.id}/${t.name}`}))),onUploadProgress:i});if(o(!1),i(0),n.length!==t.length)return d("An error occured while uploading the files");e.onSubmit({label:`${n.length} file${n.length>1?"s":""} uploaded`,value:n.join(", ")})},f=e=>{e.preventDefault(),l(!0)},m=()=>l(!1),b=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer?.files&&u(e.dataTransfer.files)},y=()=>n([]),v=()=>e.onSkip(e.block.options.labels.skip??ga.skip);return(()=>{const n=ka(),o=n.firstChild;return n.addEventListener("submit",p),o.addEventListener("drop",b),o.addEventListener("dragleave",m),o.addEventListener("dragover",f),be(o,H(ne,{get children(){return[H(re,{get when(){return r()},get children(){return H(te,{get when(){return t().length>1},get fallback(){return H(_t,{})},get children(){const e=ma(),t=e.firstChild;return t.style.setProperty("transition","width 150ms cubic-bezier(0.4, 0, 0.2, 1)"),k((()=>null!=`${a()>0?a:10}%`?t.style.setProperty("width",`${a()>0?a:10}%`):t.style.removeProperty("width"))),e}})}}),H(re,{get when(){return!r()},get children(){return[(()=>{const n=ya(),r=n.firstChild;return be(n,H(te,{get when(){return t().length},get fallback(){return H($a,{})},get children(){const e=ba(),n=e.firstChild;return be(e,H(Ta,{}),n),n.style.setProperty("bottom","5px"),be(n,(()=>t().length)),e}}),r),k((()=>r.innerHTML=e.block.options.labels.placeholder)),n})(),(()=>{const t=va();return t.addEventListener("change",(e=>{e.currentTarget.files&&u(e.currentTarget.files)})),k((()=>t.multiple=e.block.options.isMultipleAllowed)),t})()]}})]}})),be(n,H(te,{get when(){return 0===t().length&&!1===e.block.options.isRequired},get children(){const t=wa();return be(t,H(kt,{"on:click":v,get children(){return e.block.options.labels.skip??ga.skip}})),t}}),null),be(n,H(te,{get when(){return S((()=>!!(e.block.options.isMultipleAllowed&&t().length>0)))()&&!r()},get children(){const n=_a(),r=n.firstChild;return be(r,H(te,{get when(){return t().length},get children(){return H(kt,{variant:"secondary","on:click":y,get children(){return e.block.options.labels.clear??ga.clear}})}}),null),be(r,H(Ct,{type:"submit",disableIcon:!0,get children(){return S((()=>e.block.options.labels.button===ga.button))()?`Upload ${t().length} file${t().length>1?"s":""}`:e.block.options.labels.button}}),null),n}}),null),be(n,H(te,{get when(){return c()},get children(){const e=xa();return be(e,c),e}}),null),k((()=>ge(o,"typebot-upload-input py-6 flex flex-col justify-center items-center w-full bg-gray-50 border-2 border-gray-300 border-dashed cursor-pointer hover:bg-gray-100 px-8 "+(s()?"dragging-over":"")))),n})()},$a=()=>Ca(),Ta=()=>Sa();let Ea=function(e){return e.STRIPE="Stripe",e}({});const Pa=ue('<div class="typebot-input-error-message mt-4 text-center animate-fade-in">'),Aa=ue('<form id="payment-form" class="flex flex-col p-4 typebot-input w-full items-center"><slot name="stripe-payment-form">');let Oa,ja=null,Na=null;const Ma=e=>{const[t,n]=x(),[r,o]=x(!1),[a,i]=x(!1);$((async()=>{var t;if(La(Oa),ja=await(t=e.options.publicKey,new Promise((e=>{if(window.Stripe)return e(window.Stripe(t));const n=document.createElement("script");n.src="https://js.stripe.com/v3",document.body.appendChild(n),n.onload=()=>{if(!window.Stripe)throw new Error("Stripe.js failed to load.");e(window.Stripe(t))}}))),!ja)return;Na=ja.elements({appearance:{theme:"stripe",variables:{colorPrimary:getComputedStyle(Oa).getPropertyValue("--typebot-button-bg-color")}},clientSecret:e.options.paymentIntentSecret});Na.create("payment",{layout:"tabs"}).mount("#payment-element"),setTimeout((()=>o(!0)),1e3)}));const s=async t=>{if(t.preventDefault(),!ja||!Na)return;var r;i(!0),r={sessionId:e.context.sessionId,typebot:e.context.typebot},sessionStorage.setItem("typebotPaymentInProgress",JSON.stringify(r));const{error:o,paymentIntent:a}=await ja.confirmPayment({elements:Na,confirmParams:{return_url:window.location.href,payment_method_data:{billing_details:{name:e.options.additionalInformation?.name,email:e.options.additionalInformation?.email,phone:e.options.additionalInformation?.phoneNumber,address:{...e.options.additionalInformation?.address,postal_code:e.options.additionalInformation?.address?.postalCode}}}},redirect:"if_required"});return ft(),i(!1),"validation_error"!==o?.type?"card_error"===o?.type?n(o.message):o||"succeeded"!==a.status?void 0:e.onSuccess():void 0};return(()=>{const n=Aa(),o=n.firstChild;n.addEventListener("submit",s);return"function"==typeof Oa?me(Oa,o):Oa=o,o._$owner=f,be(n,H(te,{get when(){return r()},get children(){return H(Ct,{get isLoading(){return a()},class:"mt-4 w-full max-w-lg animate-fade-in",disableIcon:!0,get children(){return[S((()=>e.options.labels.button))," ",S((()=>e.options.amountLabel))]}})}}),null),be(n,H(te,{get when(){return t()},get children(){const e=Pa();return be(e,t),e}}),null),n})()},La=e=>{const t=e.getRootNode().host,n=document.createElement("div");n.style.width="100%",n.slot="stripe-payment-form",t.appendChild(n);const r=document.createElement("div");r.id="payment-element",n.appendChild(r)},Ra=e=>H(ne,{get children(){return H(re,{get when(){return e.options.provider===Ea.STRIPE},get children(){return H(Ma,{get onSuccess(){return e.onSuccess},get options(){return e.options},get context(){return e.context}})}})}}),Za=ue('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3px" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12">'),Ba=e=>(()=>{const t=Za();return fe(t,e,!0,!0),t})(),za=ue("<div>"),Ua=e=>(()=>{const t=za();return be(t,H(te,{get when(){return e.isChecked},get children(){return H(Ba,{})}})),k((()=>ge(t,"w-4 h-4 typebot-checkbox"+(e.isChecked?" checked":"")+(e.class?` ${e.class}`:"")))),t})(),Da=ue('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2px" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18">'),Va=e=>(()=>{const t=Da();return fe(t,e,!0,!0),t})(),Fa=ue('<button class="w-5 h-5">'),Ha=ue('<div class="flex justify-between items-center gap-2 w-full pr-4"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" type="text">'),Ga=e=>{const[t,n]=x(""),[r,o]=J(e,["onInput","ref"]),a=()=>{n(""),e.onClear()};return(()=>{const i=Ha(),s=i.firstChild;s.$$input=e=>(e=>{n(e),r.onInput(e)})(e.currentTarget.value);const l=e.ref;return"function"==typeof l?me(l,s):e.ref=s,s.style.setProperty("font-size","16px"),fe(s,Y({get value(){return t()}},o),!1,!1),be(i,H(te,{get when(){return t().length>0},get children(){const e=Fa();return e.addEventListener("click",a),be(e,H(Va,{})),e}}),null),i})()};pe(["input"]);const Ka="Send",qa=no.merge(eo.object({isMultipleChoice:eo.boolean(),buttonLabel:eo.string(),dynamicVariableId:eo.string().optional(),isSearchable:eo.boolean().optional(),searchInputPlaceholder:eo.string().optional()})),Wa="Filter the options...",Ya=ao.merge(eo.object({type:eo.literal(oo.BUTTON),content:eo.string().optional(),displayCondition:eo.object({isEnabled:eo.boolean().optional(),condition:co.optional()}).optional()}));to.merge(eo.object({type:eo.enum([Ae.CHOICE]),items:eo.array(Ya),options:qa}));const Ja=ue('<div class="flex items-end typebot-input w-full">'),Xa=ue('<form class="flex flex-col items-end gap-2 w-full"><div>'),Qa=ue('<span><div role="checkbox"><div class="flex items-center gap-2"><span>'),ei=ue('<span><div role="checkbox" aria-checked class="w-full py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none typebot-selectable selected"><div class="flex items-center gap-2"><span>'),ti=e=>{let t;const[n,r]=x(e.defaultItems),[o,a]=x([]);$((()=>{!mt()&&t&&t.focus()}));const i=e=>{s(e)},s=e=>{const t=o().indexOf(e);a(-1!==t?t=>t.filter((t=>t!==e)):t=>[...t,e])},l=()=>e.onSubmit({value:o().map((t=>e.defaultItems.find((e=>e.id===t))?.content)).join(", ")}),c=t=>{r(e.defaultItems.filter((e=>e.content?.toLowerCase().includes((t??"").toLowerCase()))))};return(()=>{const a=Xa(),s=a.firstChild;return a.addEventListener("submit",l),be(a,H(te,{get when(){return e.options.isSearchable},get children(){const n=Ja();return be(n,H(Ga,{ref(e){"function"==typeof t?t(e):t=e},onInput:c,get placeholder(){return e.options.searchInputPlaceholder??Wa},onClear:()=>r(e.defaultItems)})),n}}),s),be(s,H(ee,{get each(){return n()},children:e=>(()=>{const t=Qa(),n=t.firstChild,r=n.firstChild,a=r.firstChild;return n.addEventListener("click",(()=>i(e.id))),be(r,H(Ua,{get isChecked(){return o().some((t=>t===e.id))}}),a),be(a,(()=>e.content)),k((r=>{const a="relative"+(mt()?" w-full":""),i=o().some((t=>t===e.id)),s="w-full py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none typebot-selectable"+(o().some((t=>t===e.id))?" selected":""),l=e.id;return a!==r._v$&&ge(t,r._v$=a),i!==r._v$2&&he(n,"aria-checked",r._v$2=i),s!==r._v$3&&ge(n,r._v$3=s),l!==r._v$4&&he(n,"data-itemid",r._v$4=l),r}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})()}),null),be(s,H(ee,{get each(){return o().filter((e=>n().every((t=>t.id!==e))))},children:t=>(()=>{const n=ei(),r=n.firstChild,o=r.firstChild,a=o.firstChild;return r.addEventListener("click",(()=>i(t))),he(r,"data-itemid",t),be(o,H(Ua,{isChecked:!0}),a),be(a,(()=>e.defaultItems.find((e=>e.id===t))?.content)),k((()=>ge(n,"relative"+(mt()?" w-full":"")))),n})()}),null),be(a,(()=>{const t=S((()=>o().length>0));return()=>t()&&H(Ct,{disableIcon:!0,get children(){return e.options?.buttonLabel??"Send"}})})(),null),k((()=>ge(s,"flex flex-wrap justify-end gap-2"+(e.options.isSearchable?" overflow-y-scroll max-h-80 rounded-md hide-scrollbar":"")))),a})()},ni=ue('<div class="flex items-end typebot-input w-full">'),ri=ue('<div class="flex flex-col gap-2 w-full"><div>'),oi=ue("<span>"),ai=ue('<span class="flex h-3 w-3 absolute top-0 right-0 -mt-1 -mr-1 ping"><span class="animate-ping absolute inline-flex h-full w-full rounded-full brightness-200 opacity-75"></span><span class="relative inline-flex rounded-full h-3 w-3 brightness-150">'),ii=e=>{let t;const[n,r]=x(e.defaultItems);$((()=>{!mt()&&t&&t.focus()}));const o=t=>{r(e.defaultItems.filter((e=>e.content?.toLowerCase().includes((t??"").toLowerCase()))))};return(()=>{const a=ri(),i=a.firstChild;return be(a,H(te,{get when(){return e.options.isSearchable},get children(){const n=ni();return be(n,H(Ga,{ref(e){"function"==typeof t?t(e):t=e},onInput:o,get placeholder(){return e.options.searchInputPlaceholder??Wa},onClear:()=>r(e.defaultItems)})),n}}),i),be(i,H(ee,{get each(){return n()},children:(t,r)=>(()=>{const o=oi();return be(o,H(kt,{get"on:click"(){return t=r(),()=>e.onSubmit({value:n()[t].content??""});var t},get"data-itemid"(){return t.id},class:"w-full",get children(){return t.content}}),null),be(o,(()=>{const t=S((()=>!(0!==e.inputIndex||1!==e.defaultItems.length)));return()=>t()&&ai()})(),null),k((()=>ge(o,"relative"+(mt()?" w-full":"")))),o})()})),k((()=>ge(i,"flex flex-wrap justify-end gap-2"+(e.options.isSearchable?" overflow-y-scroll max-h-80 rounded-md hide-scrollbar":"")))),a})()},si=ue('<div class="flex items-end typebot-input w-full">'),li=ue('<div class="flex flex-col gap-2 w-full"><div>'),ci=ue('<button><img fetchpriority="high" class="m-auto"><div><span class="font-semibold"></span><span class="text-sm whitespace-pre-wrap text-left">'),di=e=>{let t;const[n,r]=x(e.defaultItems);$((()=>{!mt()&&t&&t.focus()}));const o=t=>{r(e.defaultItems.filter((e=>e.title?.toLowerCase().includes((t??"").toLowerCase())||e.description?.toLowerCase().includes((t??"").toLowerCase()))))};return(()=>{const a=li(),i=a.firstChild;return be(a,H(te,{get when(){return e.options.isSearchable},get children(){const n=si();return be(n,H(Ga,{ref(e){"function"==typeof t?t(e):t=e},onInput:o,get placeholder(){return e.options.searchInputPlaceholder??""},onClear:()=>r(e.defaultItems)})),n}}),i),be(i,H(ee,{get each(){return n()},children:(t,r)=>(()=>{const o=ci(),a=o.firstChild,i=a.nextSibling,s=i.firstChild,l=s.nextSibling;var c;return o.addEventListener("click",(c=r(),()=>{const t=n()[c].pictureSrc;if(t)return e.onSubmit({value:n()[c].title??t})})),be(s,(()=>t.title)),be(l,(()=>t.description)),k((e=>{const n=t.id,s="flex flex-col typebot-picture-button focus:outline-none filter hover:brightness-90 active:brightness-75 justify-between  "+(Be(t.pictureSrc)?"has-svg":""),l=t.pictureSrc,c=t.title??`Picture ${r()+1}`,d=`Picture choice ${r()+1}`,u="flex flex-col gap-1 py-2 flex-shrink-0 px-4 w-full"+(t.description?" items-start":"");return n!==e._v$&&he(o,"data-itemid",e._v$=n),s!==e._v$2&&ge(o,e._v$2=s),l!==e._v$3&&he(a,"src",e._v$3=l),c!==e._v$4&&he(a,"alt",e._v$4=c),d!==e._v$5&&he(a,"elementtiming",e._v$5=d),u!==e._v$6&&ge(i,e._v$6=u),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),o})()})),k((()=>ge(i,"gap-2 flex flex-wrap justify-end"+(e.options.isSearchable?" overflow-y-scroll max-h-[464px] rounded-md hide-scrollbar":"")))),a})()},ui=no.merge(eo.object({isMultipleChoice:eo.boolean().optional(),isSearchable:eo.boolean().optional(),buttonLabel:eo.string(),searchInputPlaceholder:eo.string(),dynamicItems:eo.object({isEnabled:eo.boolean().optional(),titlesVariableId:eo.string().optional(),descriptionsVariableId:eo.string().optional(),pictureSrcsVariableId:eo.string().optional()}).optional()})),pi=ao.merge(eo.object({type:eo.literal(oo.PICTURE_CHOICE),pictureSrc:eo.string().optional(),title:eo.string().optional(),description:eo.string().optional(),displayCondition:eo.object({isEnabled:eo.boolean().optional(),condition:co.optional()}).optional()}));to.merge(eo.object({type:eo.enum([Ae.PICTURE_CHOICE]),items:eo.array(pi),options:ui}));const hi=Ka,gi="Filter the options...",fi=ue('<div class="flex items-end typebot-input w-full">'),mi=ue('<form class="flex flex-col gap-2 w-full items-end"><div>'),bi=ue('<span class="font-semibold">'),yi=ue('<span class="text-sm whitespace-pre-wrap text-left">'),vi=ue('<div class="flex flex-col gap-1 ">'),wi=ue('<div role="checkbox"><img fetchpriority="high" class="m-auto"><div>'),_i=ue('<div role="checkbox" aria-checked class="flex flex-col focus:outline-none cursor-pointer select-none typebot-selectable-picture selected"><img fetchpriority="high"><div>'),xi=e=>{let t;const[n,r]=x(e.defaultItems),[o,a]=x([]);$((()=>{!mt()&&t&&t.focus()}));const i=e=>{s(e)},s=e=>{const t=o().indexOf(e);a(-1!==t?t=>t.filter((t=>t!==e)):t=>[...t,e])},l=()=>e.onSubmit({value:o().map((t=>{const n=e.defaultItems.find((e=>e.id===t));return n?.title??n?.pictureSrc})).join(", ")}),c=t=>{r(e.defaultItems.filter((e=>e.title?.toLowerCase().includes((t??"").toLowerCase())||e.description?.toLowerCase().includes((t??"").toLowerCase()))))};return(()=>{const a=mi(),s=a.firstChild;return a.addEventListener("submit",l),be(a,H(te,{get when(){return e.options.isSearchable},get children(){const n=fi();return be(n,H(Ga,{ref(e){"function"==typeof t?t(e):t=e},onInput:c,get placeholder(){return e.options.searchInputPlaceholder??gi},onClear:()=>r(e.defaultItems)})),n}}),s),be(s,H(ee,{get each(){return n()},children:(e,t)=>(()=>{const n=wi(),r=n.firstChild,a=r.nextSibling;return n.addEventListener("click",(()=>i(e.id))),be(a,H(Ua,{get isChecked(){return o().some((t=>t===e.id))},get class(){return"flex-shrink-0"+(e.title||e.description?" mt-1":void 0)}}),null),be(a,H(te,{get when(){return e.title||e.description},get children(){const t=vi();return be(t,H(te,{get when(){return e.title},get children(){const t=bi();return be(t,(()=>e.title)),t}}),null),be(t,H(te,{get when(){return e.description},get children(){const t=yi();return be(t,(()=>e.description)),t}}),null),t}}),null),k((i=>{const s=o().some((t=>t===e.id)),l="flex flex-col focus:outline-none cursor-pointer select-none typebot-selectable-picture"+(o().some((t=>t===e.id))?" selected":"")+(Be(e.pictureSrc)?" has-svg":""),c=e.id,d=e.pictureSrc,u=e.title??`Picture ${t()+1}`,p=`Picture choice ${t()+1}`,h="flex gap-3 py-2 flex-shrink-0"+(Re(e.title)&&Re(e.description)?" justify-center":" px-3");return s!==i._v$&&he(n,"aria-checked",i._v$=s),l!==i._v$2&&ge(n,i._v$2=l),c!==i._v$3&&he(n,"data-itemid",i._v$3=c),d!==i._v$4&&he(r,"src",i._v$4=d),u!==i._v$5&&he(r,"alt",i._v$5=u),p!==i._v$6&&he(r,"elementtiming",i._v$6=p),h!==i._v$7&&ge(a,i._v$7=h),i}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),n})()}),null),be(s,H(ee,{get each(){return o().filter((e=>n().every((t=>t.id!==e)))).map((t=>e.defaultItems.find((e=>e.id===t)))).filter(Me)},children:(t,n)=>(()=>{const r=_i(),a=r.firstChild,s=a.nextSibling;return r.addEventListener("click",(()=>i(t.id))),be(s,H(Ua,{get isChecked(){return o().some((e=>e===t.id))},get class(){return"flex-shrink-0"+(t.title||t.description?" mt-1":void 0)}}),null),be(s,H(te,{get when(){return t.title||t.description},get children(){const e=vi();return be(e,H(te,{get when(){return t.title},get children(){const e=bi();return be(e,(()=>t.title)),e}}),null),be(e,H(te,{get when(){return t.description},get children(){const e=yi();return be(e,(()=>t.description)),e}}),null),e}}),null),k((o=>{const i=t.id,l=e.defaultItems.find((e=>e.id===t.id))?.pictureSrc,c=t.title??`Selected picture ${n()+1}`,d=`Selected picture choice ${n()+1}`,u="flex gap-3 py-2 flex-shrink-0"+(Re(t.title)&&Re(t.description)?" justify-center":" pl-4");return i!==o._v$8&&he(r,"data-itemid",o._v$8=i),l!==o._v$9&&he(a,"src",o._v$9=l),c!==o._v$10&&he(a,"alt",o._v$10=c),d!==o._v$11&&he(a,"elementtiming",o._v$11=d),u!==o._v$12&&ge(s,o._v$12=u),o}),{_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0}),r})()}),null),be(a,(()=>{const t=S((()=>o().length>0));return()=>t()&&H(Ct,{disableIcon:!0,get children(){return e.options?.buttonLabel??hi}})})(),null),k((()=>ge(s,"flex flex-wrap justify-end gap-2"+(e.options.isSearchable?" overflow-y-scroll max-h-[464px] rounded-md hide-scrollbar":"")))),a})()},[ki,Ci]=x([]),Si=ue('<div class="flex justify-end animate-fade-in gap-2">'),Ii=ue("<div>"),$i=e=>{const[t,n]=x(),[r,o]=x(),a=async({label:t,value:r})=>{n(t??r),e.onSubmit(r??t)},i=t=>{n(t),e.onSkip()};return C((()=>{const t=ki().find((t=>t.inputId===e.block.id))?.formattedMessage;t&&o(t)})),H(ne,{get children(){return[H(re,{get when(){return t()&&!e.hasError},get children(){return H(zo,{get message(){return r()??t()},get showAvatar(){return e.guestAvatar?.isEnabled??!1},get avatarSrc(){return e.guestAvatar?.url&&e.guestAvatar.url}})}}),H(re,{get when(){return Le(t())||e.hasError},get children(){const t=Si(),n=e.ref;return"function"==typeof n?me(n,t):e.ref=t,be(t,(()=>{const t=S((()=>!!e.hasHostAvatar));return()=>t()&&(()=>{const e=Ii();return k((()=>ge(e,"flex flex-shrink-0 items-center "+(mt()?"w-6 h-6":"w-10 h-10")))),e})()})(),null),be(t,H(Ti,{get context(){return e.context},get block(){return e.block},get inputIndex(){return e.inputIndex},get isInputPrefillEnabled(){return e.isInputPrefillEnabled},onSubmit:a,onSkip:i}),null),k((()=>he(t,"data-blockid",e.block.id))),t}})]}})},Ti=e=>{const t=t=>e.onSubmit(t),n=()=>e.isInputPrefillEnabled?e.block.prefilledValue:void 0,r=()=>e.onSubmit({value:e.block.options.labels.success??"Success"});return H(ne,{get children(){return[H(re,{get when(){return e.block.type===Ae.TEXT},get children(){return H(Do,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),H(re,{get when(){return e.block.type===Ae.NUMBER},get children(){return H(Fo,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),H(re,{get when(){return e.block.type===Ae.EMAIL},get children(){return H(Go,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),H(re,{get when(){return e.block.type===Ae.URL},get children(){return H(qo,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),H(re,{get when(){return e.block.type===Ae.PHONE},get children(){return H(ea,{get labels(){return e.block.options.labels},get defaultCountryCode(){return e.block.options.defaultCountryCode},get defaultValue(){return n()},onSubmit:t})}}),H(re,{get when(){return e.block.type===Ae.DATE},get children(){return H(oa,{get options(){return e.block.options},get defaultValue(){return n()},onSubmit:t})}}),H(re,{get when(){return Ei(e.block)},keyed:!0,children:n=>H(ne,{get children(){return[H(re,{get when(){return!n.options.isMultipleChoice},get children(){return H(ii,{get inputIndex(){return e.inputIndex},get defaultItems(){return n.items},get options(){return n.options},onSubmit:t})}}),H(re,{get when(){return n.options.isMultipleChoice},get children(){return H(ti,{get inputIndex(){return e.inputIndex},get defaultItems(){return n.items},get options(){return n.options},onSubmit:t})}})]}})}),H(re,{get when(){return Pi(e.block)},keyed:!0,children:e=>H(ne,{get children(){return[H(re,{get when(){return!e.options.isMultipleChoice},get children(){return H(di,{get defaultItems(){return e.items},get options(){return e.options},onSubmit:t})}}),H(re,{get when(){return e.options.isMultipleChoice},get children(){return H(xi,{get defaultItems(){return e.items},get options(){return e.options},onSubmit:t})}})]}})}),H(re,{get when(){return e.block.type===Ae.RATING},get children(){return H(da,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),H(re,{get when(){return e.block.type===Ae.FILE},get children(){return H(Ia,{get context(){return e.context},get block(){return e.block},onSubmit:t,get onSkip(){return e.onSkip}})}}),H(re,{get when(){return e.block.type===Ae.PAYMENT},get children(){return H(Ra,{get context(){return e.context},get options(){return{...e.block.options,...e.block.runtimeOptions}},onSuccess:r})}})]}})},Ei=e=>e?.type===Ae.CHOICE?e:void 0,Pi=e=>e?.type===Ae.PICTURE_CHOICE?e:void 0,Ai=ue("<div><div>"),Oi=e=>{let t;const[n,r]=x(0),o=new ResizeObserver((e=>r(e[0].target.clientHeight-(mt()?24:40))));return $((()=>{t&&o.observe(t)})),T((()=>{t&&o.unobserve(t)})),(()=>{const r=Ai(),o=r.firstChild;return"function"==typeof t?me(t,r):t=r,o.style.setProperty("transition","top 350ms ease-out, opacity 250ms ease-out"),be(o,H(Zo,{get initialAvatarSrc(){return e.hostAvatarSrc}})),k((t=>{const a="flex flex-shrink-0 items-center relative typebot-avatar-container "+(mt()?"w-6":"w-10"),i="absolute flex items-center top-0"+(mt()?" w-6 h-6":" w-10 h-10")+(e.hideAvatar?" opacity-0":" opacity-100"),s=`${n()}px`;return a!==t._v$&&ge(r,t._v$=a),i!==t._v$2&&ge(o,t._v$2=i),s!==t._v$3&&(null!=(t._v$3=s)?o.style.setProperty("top",s):o.style.removeProperty("top")),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})()},[ji,Ni]=x(),Mi=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing " data-testid="host-bubble"></div><div class="overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative text-ellipsis opacity-100 h-full">'),Li=e=>{let t;const[n,r]=x("");return C((()=>{ji()?.id===e.streamingMessageId&&r(ji()?.content??"")})),(()=>{const e=Mi(),r=e.firstChild.firstChild.firstChild,o=r.nextSibling;return"function"==typeof t?me(t,e):t=e,r.style.setProperty("width","100%"),r.style.setProperty("height","100%"),be(o,n),e})()},Ri=ue('<div><div class="flex flex-col flex-1 gap-2">'),Zi=ue('<div class="flex flex-col w-full min-w-0 gap-2">'),Bi=e=>{let t;const[n,r]=x(0);$((()=>{e.streamingMessageId||(0===e.messages.length&&e.onAllBubblesDisplayed(),e.onScrollToBottom(t?.offsetTop?t?.offsetTop-50:void 0))}));const o=async t=>{const o=e.messages[n()].id;await e.onNewBubbleDisplayed(o),r(n()===e.messages.length?n():n()+1),e.onScrollToBottom(t),n()===e.messages.length&&e.onAllBubblesDisplayed()};return(()=>{const r=Zi();return be(r,H(te,{get when(){return e.messages.length>0},get children(){const t=Ri(),r=t.firstChild;return be(t,H(te,{get when(){return e.theme.chat.hostAvatar?.isEnabled&&e.messages.length>0},get children(){return H(Oi,{get hostAvatarSrc(){return e.theme.chat.hostAvatar?.url},get hideAvatar(){return e.hideAvatar}})}}),r),be(r,H(ee,{get each(){return e.messages.slice(0,n()+1)},children:t=>H(No,{message:t,get typingEmulation(){return e.settings.typingEmulation},onTransitionEnd:o})})),k((n=>{const o="flex"+(mt()?" gap-1":" gap-2"),a=e.theme.chat.guestAvatar?.isEnabled?mt()?"32px":"48px":void 0;return o!==n._v$&&ge(t,n._v$=o),a!==n._v$2&&(null!=(n._v$2=a)?r.style.setProperty("margin-right",a):r.style.removeProperty("margin-right")),n}),{_v$:void 0,_v$2:void 0}),t}}),null),be(r,(()=>{const r=S((()=>!(!e.input||n()!==e.messages.length)));return()=>r()&&H($i,{ref(e){"function"==typeof t?t(e):t=e},get block(){return e.input},get inputIndex(){return e.inputIndex},get hasHostAvatar(){return e.theme.chat.hostAvatar?.isEnabled??!1},get guestAvatar(){return e.theme.chat.guestAvatar},get context(){return e.context},get isInputPrefillEnabled(){return e.settings.general.isInputPrefillEnabled??!0},get hasError(){return e.hasError},get onSubmit(){return e.onSubmit},get onSkip(){return e.onSkip}})})(),null),be(r,H(te,{get when(){return e.streamingMessageId},keyed:!0,children:t=>(()=>{const n=Ri(),r=n.firstChild;return be(n,H(te,{get when(){return e.theme.chat.hostAvatar?.isEnabled},get children(){return H(Oi,{get hostAvatarSrc(){return e.theme.chat.hostAvatar?.url},get hideAvatar(){return e.hideAvatar}})}}),r),be(r,H(Li,{streamingMessageId:t})),k((t=>{const o="flex"+(mt()?" gap-1":" gap-2"),a=e.theme.chat.guestAvatar?.isEnabled?mt()?"32px":"48px":void 0;return o!==t._v$3&&ge(n,t._v$3=o),a!==t._v$4&&(null!=(t._v$4=a)?r.style.setProperty("margin-right",a):r.style.removeProperty("margin-right")),t}),{_v$3:void 0,_v$4:void 0}),n})()}),null),r})()},zi=Object.getPrototypeOf((async function(){})).constructor,Ui=async({content:e,args:t})=>{try{const n=zi(...t.map((e=>e.id)),Di(e));await n(...t.map((e=>e.value)))}catch(e){console.warn("Script threw an error:",e)}},Di=e=>e.replace(/<script>/g,"").replace(/<\/script>/g,""),Vi=async e=>{e?.trackingId&&(e=>{e&&(window.gtag?window.gtag("event",e.action,{event_category:Re(e.category)?void 0:e.category,event_label:Re(e.label)?void 0:e.label,value:e.value,send_to:Re(e.sendTo)?void 0:e.sendTo}):console.error("Google Analytics was not properly initialized"))})(e)};let Fi=null;const Hi=e=>async(t,{onMessageStream:n})=>{try{Fi=new AbortController;const r=e.apiHost,o=await fetch(`${Ze(r)?r:ht()}/api/integrations/openai/streamer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e.sessionId,messages:t}),signal:Fi.signal});if(!o.ok)return(e.retryAttempt??0)<3&&(403===o.status||500===o.status||503===o.status)?(await new Promise((e=>setTimeout(e,3e3))),Hi({...e,retryAttempt:(e.retryAttempt??0)+1})(t,{onMessageStream:n})):{error:await o.json()||"Failed to fetch the chat response."};if(!o.body)throw new Error("The response body is empty.");let a="";const i=o.body.getReader(),s=new TextDecoder;for(;;){const{done:e,value:t}=await i.read();if(e)break;if(a+=s.decode(t),n&&n(a),null===Fi){i.cancel();break}}return Fi=null,{message:a}}catch(e){return console.error(e),"AbortError"===e.name?(Fi=null,{error:{message:"Request aborted"}}):e instanceof Error?{error:{message:e.message}}:{error:{message:"Failed to fetch the chat response."}}}},Gi=e=>{if(Le(e))return null;if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return console.warn("Failed to safely stringify variable value",e),null}},Ki=Object.getPrototypeOf((async function(){})).constructor,qi=async e=>{Re(e?.pixelId)||(e=>{if(!e.eventType||!e.pixelId)return;if(!window.fbq)return void console.error("Facebook Pixel was not properly initialized");const t=e.params?.length?e.params.reduce(((e,t)=>t.key&&t.value?{...e,[t.key]:t.value}:e),{}):void 0;if("Custom"===e.eventType){if(!e.name)return;window.fbq("trackCustom",e.name,t)}window.fbq("track",e.eventType,t)})(e)},Wi=async e=>{const t=e.customHeadCode;Ze(t)&&(e=>{e.split("</noscript>").forEach((e=>{const[t,n]=e.split("<noscript>"),r=document.createRange().createContextualFragment(t);if(document.head.append(r),Le(n))return;const o=document.createElement("noscript"),a=document.createRange().createContextualFragment(n);o.append(a),document.head.append(o)}))})(t);const n=e.gtmId;Ze(n)&&document.body.prepend((e=>{if(document.getElementById("gtm-noscript"))return"";const t=document.createElement("noscript");t.id="gtm-noscript";const n=document.createElement("iframe");return n.src=`https://www.googletagmanager.com/ns.html?id=${e}`,n.height="0",n.width="0",n.style.display="none",n.style.visibility="hidden",t.appendChild(n),t})(n));const r=e.googleAnalyticsId;var o;Ze(r)&&await(o=r,Me(window.gtag)?Promise.resolve():new Promise((e=>{const t=document.getElementById("gtag");if(!t){const t=document.createElement("script");t.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,t.id="gtag";const n=document.createElement("script");n.innerHTML=`window.dataLayer = window.dataLayer || [];\n      function gtag(){dataLayer.push(arguments);}\n      gtag('js', new Date());\n    \n      gtag('config', '${o}');\n      `,document.body.appendChild(t),document.body.appendChild(n),t.onload=()=>{e()}}t&&e()})));const a=e.pixelId;Ze(a)&&(e=>{const t=document.createElement("script");t.innerHTML=`!function(f,b,e,v,n,t,s)\n  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n  n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n  n.queue=[];t=b.createElement(e);t.async=!0;\n  t.src=v;s=b.getElementsByTagName(e)[0];\n  s.parentNode.insertBefore(t,s)}(window, document,'script',\n  'https://connect.facebook.net/en_US/fbevents.js');\n  fbq('init', '${e}');\n  fbq('track', 'PageView');`,document.head.appendChild(t);const n=document.createElement("noscript");n.innerHTML=`<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=${e}&ev=PageView&noscript=1"/>`,document.head.appendChild(n)})(a)},Yi=async({clientSideAction:e,context:t,onMessageStream:n})=>{if("chatwoot"in e)return r=e.chatwoot,void Ui(r.scriptToExecute);var r;if("googleAnalytics"in e)return Vi(e.googleAnalytics);if("scriptToExecute"in e)return Ui(e.scriptToExecute);if("redirect"in e)return(({url:e,isNewTab:t})=>{if(!e)return;return window.open(e,t?"_blank":"_self")?void 0:{blockedPopupUrl:e}})(e.redirect);if("wait"in e)return await(async({secondsToWaitFor:e})=>{await new Promise((t=>setTimeout(t,1e3*e)))})(e.wait),e.expectsDedicatedReply?{replyToSend:void 0}:void 0;if("setVariable"in e)return(async({content:e,args:t})=>{try{const n=Ki(...t.map((e=>e.id)),e.includes("return ")?e:`return ${e}`),r=await n(...t.map((e=>e.value)));return{replyToSend:Gi(r)??void 0}}catch(t){return console.error(t),{replyToSend:Gi(e)??void 0}}})(e.setVariable.scriptToExecute);if("streamOpenAiChatCompletion"in e){const{error:r,message:o}=await Hi(t)(e.streamOpenAiChatCompletion.messages,{onMessageStream:e.streamOpenAiChatCompletion.displayStream?n:void 0});return r?{replyToSend:void 0,logs:[{status:"error",description:"Failed to stream OpenAI completion",details:JSON.stringify(r,null,2)}]}:{replyToSend:o}}if("webhookToExecute"in e){return{replyToSend:await(async e=>{const{url:t,method:n,body:r,headers:o}=e;try{const e=await fetch(t,{method:n,body:"GET"!==n&&r?JSON.stringify(r):void 0,headers:o}),a=e.status,i=await e.json();return JSON.stringify({statusCode:a,data:i})}catch(e){return console.error(e),JSON.stringify({statusCode:500,data:"An error occured while executing the webhook on the client"})}})(e.webhookToExecute)}}return"startPropsToInject"in e?Wi(e.startPropsToInject):"pixel"in e?qi(e.pixel):void 0},Ji=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing " data-testid="host-bubble"></div><p class="overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative opacity-0 h-6 text-ellipsis">'),Xi=()=>(()=>{const e=Ji(),t=e.firstChild.firstChild.firstChild;return t.style.setProperty("width","64px"),t.style.setProperty("height","32px"),be(t,H(It,{})),e})(),Qi=ue('<div class="flex w-full"><div class="flex flex-col w-full min-w-0"><div class="flex gap-2">'),es=e=>(()=>{const t=Qi(),n=t.firstChild.firstChild;return be(n,H(te,{get when(){return e.theme.chat.hostAvatar?.isEnabled},get children(){return H(Oi,{get hostAvatarSrc(){return e.theme.chat.hostAvatar?.url}})}}),null),be(n,H(Xi,{}),null),t})(),ts=ue('<div class="w-full max-w-xs p-4 text-gray-500 bg-white shadow flex flex-col gap-2 typebot-popup-blocked-toast" role="alert"><div class="flex flex-col gap-1"><span class=" text-sm font-semibold text-gray-900">Popup blocked</span><div class="text-sm font-normal">The bot wants to open a new tab but it was blocked by your broswer. It needs a manual approval.</div></div><a target="_blank" class="py-1 px-4 justify-center text-sm font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 filter hover:brightness-90 active:brightness-75 typebot-button" rel="noreferrer">Continue in new tab'),ns=e=>(()=>{const t=ts(),n=t.firstChild.nextSibling;return n.$$click=()=>e.onLinkClick(),k((()=>he(n,"href",e.url))),t})();pe(["click"]);const rs=ue('<div class="flex flex-col overflow-y-scroll w-full min-h-full px-3 pt-10 relative scrollable-container typebot-chat-view scroll-smooth gap-2">'),os=ue('<div class="flex justify-end">'),as=ue('<div class="w-full h-32 flex-shrink-0">'),is=e=>{let t;const[n,r]=x([{input:e.initialChatReply.input,messages:e.initialChatReply.messages,clientSideActions:e.initialChatReply.clientSideActions}]),[o,a]=x(e.initialChatReply.dynamicTheme),[i,l]=x(e.initialChatReply.typebot.theme),[c,d]=x(!1),[u,p]=x(),[h,g]=x(!1);$((()=>{(async()=>{const t=n()[0];if(t.clientSideActions){const n=t.clientSideActions.filter((e=>Le(e.lastBubbleBlockId)));for(const t of n){("streamOpenAiChatCompletion"in t||"webhookToExecute"in t)&&d(!0);const n=await Yi({clientSideAction:t,context:{apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId},onMessageStream:f});if(n&&"replyToSend"in n)return void m(n.replyToSend,n.logs);n&&"blockedPopupUrl"in n&&p(n.blockedPopupUrl)}}})()}));const f=e=>{d(!1);const t=[...n()].pop();if(!t)return;const o=t.streamingMessageId??function(){const e=s.context;return e?`${e.id}${e.count++}`:"cl-"+X++}();t.streamingMessageId||r((e=>[...e,{messages:[],streamingMessageId:o}])),Ni({id:o,content:e})};C((()=>{l(((e,t)=>({...e,chat:{...e.chat,hostAvatar:e.chat.hostAvatar&&t?.hostAvatarUrl?{...e.chat.hostAvatar,url:t.hostAvatarUrl}:e.chat.hostAvatar,guestAvatar:e.chat.guestAvatar&&t?.guestAvatarUrl?{...e.chat.guestAvatar,url:t?.guestAvatarUrl}:e.chat.guestAvatar}}))(e.initialChatReply.typebot.theme,o()))}));const m=async(t,o)=>{o&&e.onNewLogs?.(o),g(!1);const i=[...n()].pop()?.input;i?.id&&e.onAnswer&&t&&e.onAnswer({message:t,blockId:i.id}),i?.type===Ae.FILE&&e.onNewLogs?.([{description:"Files are not uploaded in preview mode",status:"info"}]);const s=setTimeout((()=>{d(!0)}),1e3),{data:l,error:c}=await(({apiHost:e,...t})=>Ne({method:"POST",url:`${Ze(e)?e:ht()}/api/v1/sendMessage`,body:t}))({apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId,message:t,clientLogs:o});if(clearTimeout(s),d(!1),c&&(g(!0),e.onNewLogs?.([{description:"Failed to send the reply",details:c,status:"error"}])),l){if(l.lastMessageNewFormat&&Ci([...ki(),{inputId:[...n()].pop()?.input?.id??"",formattedMessage:l.lastMessageNewFormat}]),l.logs&&e.onNewLogs?.(l.logs),l.dynamicTheme&&a(l.dynamicTheme),l.input?.id&&e.onNewInputBlock&&e.onNewInputBlock({id:l.input.id,groupId:l.input.groupId}),l.clientSideActions){const t=l.clientSideActions.filter((e=>Le(e.lastBubbleBlockId)));for(const n of t){("streamOpenAiChatCompletion"in n||"webhookToExecute"in n)&&d(!0);const t=await Yi({clientSideAction:n,context:{apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId},onMessageStream:f});if(t&&"replyToSend"in t)return void m(t.replyToSend,t.logs);t&&"blockedPopupUrl"in t&&p(t.blockedPopupUrl)}}r((e=>[...e,{input:l.input,messages:[...n()].pop()?.streamingMessageId?l.messages.slice(1):l.messages,clientSideActions:l.clientSideActions}]))}},b=e=>{const r=n();r.length>=2&&r[r.length-2].streamingMessageId||setTimeout((()=>{t?.scrollTo(0,e??t.scrollHeight)}),50)},y=async()=>{const t=[...n()].pop();t&&Le(t.input)&&e.onEnd?.()},v=async t=>{const r=[...n()].pop();if(r&&r.clientSideActions){const n=r.clientSideActions.filter((e=>e.lastBubbleBlockId===t));for(const t of n){("streamOpenAiChatCompletion"in t||"webhookToExecute"in t)&&d(!0);const n=await Yi({clientSideAction:t,context:{apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId},onMessageStream:f});if(n&&"replyToSend"in n)return void m(n.replyToSend,n.logs);n&&"blockedPopupUrl"in n&&p(n.blockedPopupUrl)}}};T((()=>{Ni(void 0),Ci([])}));const w=()=>m(void 0);return(()=>{const r=rs();return"function"==typeof t?me(t,r):t=r,be(r,H(ee,{get each(){return n()},children:(t,r)=>H(Bi,{get inputIndex(){return r()},get messages(){return t.messages},get input(){return t.input},get theme(){return i()},get settings(){return e.initialChatReply.typebot.settings},get streamingMessageId(){return t.streamingMessageId},get context(){return e.context},get hideAvatar(){return S((()=>!(t.input||t.streamingMessageId)))()&&r()<n().length-1},get hasError(){return S((()=>!!h()))()&&r()===n().length-1},onNewBubbleDisplayed:v,onAllBubblesDisplayed:y,onSubmit:m,onScrollToBottom:b,onSkip:w})}),null),be(r,H(te,{get when(){return c()},get children(){return H(es,{get theme(){return i()}})}}),null),be(r,H(te,{get when(){return u()},keyed:!0,children:e=>(()=>{const t=os();return be(t,H(ns,{url:e,onLinkClick:()=>p(void 0)})),t})()}),null),be(r,H(ss,{}),null),r})()},ss=()=>as(),ls=ue('<div class="h-full flex justify-center items-center flex-col"><p class="text-2xl text-center"></p><p class="text-center">'),cs=e=>(()=>{const t=ls(),n=t.firstChild,r=n.nextSibling;return be(n,(()=>e.error.message)),be(r,(()=>e.error.cause)),t})(),ds="resultId",us=e=>{if(e)try{return sessionStorage.getItem(`${ds}-${e}`)??localStorage.getItem(`${ds}-${e}`)??void 0}catch{}};let ps=function(e){return e.COLOR="Color",e.IMAGE="Image",e.NONE="None",e}({});const hs={bgImage:"--typebot-container-bg-image",bgColor:"--typebot-container-bg-color",fontFamily:"--typebot-container-font-family",color:"--typebot-container-color"},gs={hostBubbles:{bgColor:"--typebot-host-bubble-bg-color",color:"--typebot-host-bubble-color"},guestBubbles:{bgColor:"--typebot-guest-bubble-bg-color",color:"--typebot-guest-bubble-color"},inputs:{bgColor:"--typebot-input-bg-color",color:"--typebot-input-color",placeholderColor:"--typebot-input-placeholder-color"},buttons:{bgColor:"--typebot-button-bg-color",bgColorRgb:"--typebot-button-bg-color-rgb",color:"--typebot-button-color"},checkbox:{bgColor:"--typebot-checkbox-bg-color",color:"--typebot-checkbox-color",baseAlpha:"--selectable-base-alpha"}},fs=(e,t)=>{const{background:n,font:r}=e;n&&_s(n,t),r&&t.setProperty(hs.fontFamily,r)},ms=(e,t)=>{const{hostBubbles:n,guestBubbles:r,buttons:o,inputs:a,roundness:i}=e;n&&bs(n,t),r&&ys(r,t),o&&vs(o,t),a&&ws(a,t),i&&ks(i,t)},bs=(e,t)=>{e.backgroundColor&&t.setProperty(gs.hostBubbles.bgColor,e.backgroundColor),e.color&&t.setProperty(gs.hostBubbles.color,e.color)},ys=(e,t)=>{e.backgroundColor&&t.setProperty(gs.guestBubbles.bgColor,e.backgroundColor),e.color&&t.setProperty(gs.guestBubbles.color,e.color)},vs=(e,t)=>{e.backgroundColor&&(t.setProperty(gs.buttons.bgColor,e.backgroundColor),t.setProperty(gs.buttons.bgColorRgb,ze(e.backgroundColor).join(", "))),e.color&&t.setProperty(gs.buttons.color,e.color)},ws=(e,t)=>{e.backgroundColor&&t.setProperty(gs.inputs.bgColor,e.backgroundColor),e.color&&t.setProperty(gs.inputs.color,e.color),e.placeholderColor&&t.setProperty(gs.inputs.placeholderColor,e.placeholderColor)},_s=(e,t)=>{t.setProperty(hs.bgImage,null),t.setProperty(hs.bgColor,null),t.setProperty(e?.type===ps.IMAGE?hs.bgImage:hs.bgColor,xs(e)),t.setProperty(gs.checkbox.bgColor,e?.type===ps.IMAGE?"rgba(255, 255, 255, 0.75)":(e?.type===ps.COLOR?e.content:"#ffffff")??"#ffffff");const n=e.type===ps.IMAGE?"#000000":e?.type===ps.COLOR&&Ze(e.content)?e.content:"#ffffff";t.setProperty(hs.color,Ue(n)?"#303235":"#ffffff"),e.type===ps.IMAGE?t.setProperty(gs.checkbox.baseAlpha,"0.40"):t.setProperty(gs.checkbox.baseAlpha,"0")},xs=({type:e,content:t})=>{switch(e){case ps.NONE:return"transparent";case ps.COLOR:return t??"#ffffff";case ps.IMAGE:return`url(${t})`}},ks=(e,t)=>{switch(e){case"none":t.setProperty("--typebot-border-radius","0");break;case"medium":t.setProperty("--typebot-border-radius","6px");break;case"large":t.setProperty("--typebot-border-radius","20px")}};const Cs=ue("<style>"),Ss=ue('<div><div class="flex w-full h-full justify-center">'),Is=e=>{const[t,n]=x(),[r,o]=x(""),[a,i]=x(!1),[s,l]=x(),c=async()=>{i(!0);const t=new URLSearchParams(location.search);e.onInit?.();const r={};t.forEach(((e,t)=>{r[t]=e}));const a="string"==typeof e.typebot?e.typebot:void 0,{data:s,error:c}=await async function({typebot:e,isPreview:t,apiHost:n,prefilledVariables:r,startGroupId:o,resultId:a,stripeRedirectStatus:i}){if(Le(e))throw new Error("Typebot ID is required to get initial messages");const s=gt()??void 0,l=s?JSON.parse(s):void 0;l&&ft();const{data:c,error:d}=await Ne({method:"POST",url:`${Ze(n)?n:ht()}/api/v1/sendMessage`,body:{startParams:l?void 0:{isPreview:t,typebot:e,prefilledVariables:r,startGroupId:o,resultId:a,isStreamEnabled:!0},sessionId:l?.sessionId,message:l?"failed"===i?"fail":"Success":void 0}});return{data:c?{...c,...l?{typebot:l.typebot}:{}}:void 0,error:d}}({stripeRedirectStatus:t.get("redirect_status")??void 0,typebot:e.typebot,apiHost:e.apiHost,isPreview:e.isPreview??!1,resultId:Ze(e.resultId)?e.resultId:us(a),startGroupId:e.startGroupId,prefilledVariables:{...r,...e.prefilledVariables}});if(c&&"code"in c&&"string"==typeof c.code){if("string"!=typeof e.typebot||e.isPreview)return l(new Error("An error occurred while loading the bot.",{cause:c.message}));if(["BAD_REQUEST","FORBIDDEN"].includes(c.code))return l(new Error("This bot is now closed."));if("NOT_FOUND"===c.code)return l(new Error("The bot you're looking for doesn't exist."))}if(!s)return c&&console.error(c),l(new Error("Error! Couldn't initiate the chat."));s.resultId&&a&&((e="session")=>(t,n)=>{try{return("session"===e?localStorage:sessionStorage).removeItem(`${ds}-${t}`),("session"===e?sessionStorage:localStorage).setItem(`${ds}-${t}`,n)}catch{}})(s.typebot.settings.general.rememberUser?.storage)(a,s.resultId),n(s),o(s.typebot.theme.customCss??""),s.input?.id&&e.onNewInputBlock&&e.onNewInputBlock({id:s.input.id,groupId:s.input.groupId}),s.logs&&e.onNewLogs?.(s.logs)};return C((()=>{Le(e.typebot)||a()||c().then()})),C((()=>{Le(e.typebot)||"string"==typeof e.typebot||o(e.typebot.theme.customCss??"")})),T((()=>{i(!1)})),[(()=>{const e=Cs();return be(e,r),e})(),(()=>{const e=Cs();return be(e,"#lite-badge{background-color:#fff!important;border-radius:4px!important;border-width:1px!important;bottom:20px!important;color:#111827!important;display:flex!important;font-size:14px!important;font-weight:600!important;gap:8px!important;left:auto!important;line-height:20px!important;opacity:1!important;padding:4px 8px!important;position:absolute!important;right:auto!important;top:auto!important;transition:background-color .2s ease-in-out!important;visibility:visible!important;z-index:50!important}#lite-badge:hover{background-color:#f7f8ff!important}"),e})(),H(te,{get when(){return s()},keyed:!0,children:e=>H(cs,{error:e})}),H(te,{get when(){return t()},keyed:!0,children:t=>H($s,{get class(){return e.class},get initialChatReply(){return{...t,typebot:{...t.typebot,settings:"string"==typeof e.typebot?t.typebot?.settings:e.typebot?.settings,theme:"string"==typeof e.typebot?t.typebot?.theme:e.typebot?.theme}}},get context(){return{apiHost:e.apiHost,isPreview:"string"!=typeof e.typebot||(e.isPreview??!1),resultId:t.resultId,sessionId:t.sessionId,typebot:t.typebot}},get onNewInputBlock(){return e.onNewInputBlock},get onNewLogs(){return e.onNewLogs},get onAnswer(){return e.onAnswer},get onEnd(){return e.onEnd}})})]},$s=e=>{let t;const n=new ResizeObserver((e=>bt(e[0].target.clientWidth<400)));return $((()=>{t&&n.observe(t)})),C((()=>{(()=>{const t=document.getElementById("bot-font");if(t?.getAttribute("href")?.includes(e.initialChatReply.typebot?.theme?.general?.font??"Open Sans"))return;const n=document.createElement("link");n.href=`https://fonts.bunny.net/css2?family=${e.initialChatReply.typebot?.theme?.general?.font??"Open Sans"}:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&display=swap');')`,n.rel="stylesheet",n.id="bot-font",document.head.appendChild(n)})(),t&&((e,t)=>{if(!e)return;const n=t?.style;n&&(e.general&&fs(e.general,n),e.chat&&ms(e.chat,n))})(e.initialChatReply.typebot.theme,t)})),T((()=>{t&&n.unobserve(t)})),(()=>{const n=Ss(),r=n.firstChild;return"function"==typeof t?me(t,n):t=n,be(r,H(is,{get context(){return e.context},get initialChatReply(){return e.initialChatReply},get onNewInputBlock(){return e.onNewInputBlock},get onAnswer(){return e.onAnswer},get onEnd(){return e.onEnd},get onNewLogs(){return e.onNewLogs}})),be(n,H(te,{get when(){return e.initialChatReply.typebot.settings.general.isBrandingEnabled},get children(){return H(ut,{botContainer:t})}}),null),k((()=>ge(n,"relative flex w-full h-full text-base overflow-hidden bg-cover bg-center flex-col items-center typebot-container "+e.class))),n})()},Ts=ue("<style>"),Es=ue('<div part="bot">'),Ps=e=>{const[t,n]=J(e,["onOpen","onClose","previewMessage","onPreviewMessageClick","theme","autoShowDelay"]),[r,o]=x(n.prefilledVariables),[a,i]=x(!1),[s,l]=x({message:t.previewMessage?.message??"",avatarUrl:t.previewMessage?.avatarUrl}),[c,d]=x(!1),[u,p]=x(!1);$((()=>{window.addEventListener("message",h);const e=t.autoShowDelay,n=t.previewMessage?.autoShowDelay;gt()&&g(),Me(e)&&setTimeout((()=>{g()}),e),Me(n)&&setTimeout((()=>{y()}),n)})),T((()=>{window.removeEventListener("message",h)})),C((()=>{e.prefilledVariables&&o((t=>({...t,...e.prefilledVariables})))}));const h=e=>{const{data:t}=e;t.isFromTypebot&&("open"===t.command&&g(),"close"===t.command&&f(),"toggle"===t.command&&m(),"showPreviewMessage"===t.command&&y(t.message),"hidePreviewMessage"===t.command&&v(),"setPrefilledVariables"===t.command&&o((e=>({...e,...t.variables}))))},g=()=>{u()||p(!0),v(),d(!0),c()&&t.onOpen?.()},f=()=>{d(!1),c()&&t.onClose?.()},m=()=>{c()?f():g()},b=()=>{t.onPreviewMessageClick?.(),g()},y=e=>{e&&l(e),c()||i(!0)},v=()=>{i(!1)};return[(()=>{const e=Ts();return be(e,Pe),e})(),H(te,{get when(){return a()},get children(){return H(it,Y(s,{get placement(){return t.theme?.placement},get previewMessageTheme(){return t.theme?.previewMessage},get buttonSize(){return t.theme?.button?.size},onClick:b,onCloseClick:v}))}}),H(et,Y((()=>t.theme?.button),{get placement(){return t.theme?.placement},toggleBot:m,get isBotOpened(){return c()}})),(()=>{const o=Es();return o.style.setProperty("height","calc(100% - 80px)"),o.style.setProperty("transition","transform 200ms cubic-bezier(0, 1.2, 1, 1), opacity 150ms ease-out"),o.style.setProperty("box-shadow","rgb(0 0 0 / 16%) 0px 5px 40px"),o.style.setProperty("z-index","42424242"),be(o,H(te,{get when(){return u()},get children(){return H(Is,Y(n,{get prefilledVariables(){return r()},class:"rounded-lg"}))}})),k((n=>{const r="left"===e.theme?.placement?"bottom left":"bottom right",a=c()?"scale3d(1, 1, 1)":"scale3d(0, 0, 1)",i=t.theme?.chatWindow?.backgroundColor,s="fixed rounded-lg w-full sm:w-[400px] max-h-[704px]"+(c()?" opacity-1":" opacity-0 pointer-events-none")+("large"===e.theme?.button?.size?" bottom-24":" bottom-20")+("left"===e.theme?.placement?" sm:left-5":" sm:right-5");return r!==n._v$&&(null!=(n._v$=r)?o.style.setProperty("transform-origin",r):o.style.removeProperty("transform-origin")),a!==n._v$2&&(null!=(n._v$2=a)?o.style.setProperty("transform",a):o.style.removeProperty("transform")),i!==n._v$3&&(null!=(n._v$3=i)?o.style.setProperty("background-color",i):o.style.removeProperty("background-color")),s!==n._v$4&&ge(o,n._v$4=s),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),o})()]},As=ue("<style>"),Os=ue('<div class="relative" aria-labelledby="modal-title" role="dialog" aria-modal="true"><style></style><div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in" part="overlay"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0"><div>'),js=e=>{const[t,n]=J(e,["onOpen","onClose","autoShowDelay","theme","isOpen","defaultOpen"]),[r,o]=x(n.prefilledVariables),[a,i]=x(t.isOpen??!1);$((()=>{const e=gt();(t.defaultOpen||e)&&c(),window.addEventListener("message",l);const n=t.autoShowDelay;Me(n)&&setTimeout((()=>{c()}),n)})),T((()=>{window.removeEventListener("message",l)})),C((()=>{Le(e.isOpen)||e.isOpen===a()||u()})),C((()=>{e.prefilledVariables&&o((t=>({...t,...e.prefilledVariables})))}));const s=e=>{e.stopPropagation()},l=e=>{const{data:t}=e;t.isFromTypebot&&("open"===t.command&&c(),"close"===t.command&&d(),"toggle"===t.command&&u(),"setPrefilledVariables"===t.command&&o((e=>({...e,...t.variables}))))},c=()=>{i(!0),t.onOpen?.(),document.body.style.overflow="hidden",document.addEventListener("pointerdown",d)},d=()=>{i(!1),t.onClose?.(),document.body.style.overflow="auto",document.removeEventListener("pointerdown",d)},u=()=>{a()?d():c()};return H(te,{get when(){return a()},get children(){return[(()=>{const e=As();return be(e,Pe),e})(),(()=>{const t=Os(),o=t.firstChild,a=o.nextSibling.nextSibling.firstChild.firstChild;return be(o,Pe),a.addEventListener("pointerdown",s),be(a,H(Is,Y(n,{get prefilledVariables(){return r()}}))),k((n=>{const r=e.theme?.zIndex??42424242,o="relative h-[80vh] transform overflow-hidden rounded-lg text-left transition-all sm:my-8 sm:w-full sm:max-w-lg"+(e.theme?.backgroundColor?" shadow-xl":""),i=e.theme?.backgroundColor??"transparent";return r!==n._v$&&(null!=(n._v$=r)?t.style.setProperty("z-index",r):t.style.removeProperty("z-index")),o!==n._v$2&&ge(a,n._v$2=o),i!==n._v$3&&(null!=(n._v$3=i)?a.style.setProperty("background-color",i):a.style.removeProperty("background-color")),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()]}})},Ns=ue("<style>\n:host {\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow-y: hidden;\n}\n"),Ms=()=>{window.postMessage({isFromTypebot:!0,command:"close"})},Ls=()=>{window.postMessage({isFromTypebot:!0,command:"hidePreviewMessage"})},Rs=()=>{window.postMessage({isFromTypebot:!0,command:"open"})},Zs=e=>{const t={isFromTypebot:!0,command:"setPrefilledVariables",variables:e};window.postMessage(t)},Bs=e=>{const t={isFromTypebot:!0,command:"showPreviewMessage",message:e};window.postMessage(t)},zs=()=>{window.postMessage({isFromTypebot:!0,command:"toggle"})},Us=e=>{const t={isFromTypebot:!0,command:"setInputValue",value:e};window.postMessage(t)},Ds=e=>{const t=e.id?document.getElementById(e.id):document.querySelector("typebot-standard");if(!t)throw new Error("<typebot-standard> element not found.");Object.assign(t,e)},Vs=e=>{const t=document.createElement("typebot-popup");Object.assign(t,e),document.body.appendChild(t)},Fs=e=>{const t=document.createElement("typebot-bubble");Object.assign(t,e),document.body.appendChild(t)};"undefined"!=typeof window&&(Ie("typebot-standard",$e,((e,{element:t})=>{const[n,r]=x(!1),o=new IntersectionObserver((e=>{e.some((e=>e.isIntersecting))&&r(!0)}));return $((()=>{o.observe(t)})),T((()=>{o.disconnect()})),[(()=>{const e=Ns(),t=e.firstChild;return be(e,Pe,t),e})(),H(te,{get when(){return n()},get children(){return H(Is,e)}})]})),Ie("typebot-bubble",Ee,Ps),Ie("typebot-popup",Te,js));const Hs={initStandard:Ds,initPopup:Vs,initBubble:Fs,close:Ms,hidePreviewMessage:Ls,open:Rs,setPrefilledVariables:Zs,showPreviewMessage:Bs,toggle:zs,setInputValue:Us};(e=>{"undefined"!=typeof window&&(window.Typebot={...e})})(Hs);export{Hs as default};
